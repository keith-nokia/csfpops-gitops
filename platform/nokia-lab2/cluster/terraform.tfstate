{
  "version": 4,
  "terraform_version": "0.14.11",
  "serial": 60,
  "lineage": "f8481fbb-d62f-f633-01f5-04f9f072d514",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "eks_worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:ap-southeast-2::image/ami-040ec9839830d8c16",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-076942d0a73babb07",
                  "throughput": "0",
                  "volume_size": "20",
                  "volume_type": "gp2"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "creation_date": "2022-11-12T12:40:45.000Z",
            "description": "EKS Kubernetes Worker AMI with AmazonLinux2 image, (k8s: 1.22.15, docker: 20.10.17-1.amzn2.0.1, containerd: 1.6.6-1.amzn2.0.2)",
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "amazon-eks-node-1.22-v*"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-040ec9839830d8c16",
            "image_id": "ami-040ec9839830d8c16",
            "image_location": "amazon/amazon-eks-node-1.22-v20221112",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "amazon-eks-node-1.22-v20221112",
            "name_regex": null,
            "owner_id": "602401143452",
            "owners": [
              "602401143452"
            ],
            "platform": null,
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": true,
            "ramdisk_id": null,
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-076942d0a73babb07",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_availability_zones",
      "name": "azs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "all_availability_zones": null,
            "exclude_names": null,
            "exclude_zone_ids": null,
            "filter": null,
            "group_names": [
              "ap-southeast-2"
            ],
            "id": "ap-southeast-2",
            "names": [
              "ap-southeast-2a",
              "ap-southeast-2b",
              "ap-southeast-2c"
            ],
            "state": null,
            "zone_ids": [
              "apse2-az1",
              "apse2-az3",
              "apse2-az2"
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "126494010021",
            "arn": "arn:aws:iam::126494010021:user/nokia_installer",
            "id": "126494010021",
            "user_id": "AIDAR245BNKSXQLGVE4AX"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_role",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::126494010021:role/service_eks_cluster",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-02-17T09:04:42Z",
            "description": "Allows access to other AWS service resources that are required to operate clusters managed by EKS.",
            "id": "service_eks_cluster",
            "max_session_duration": 3600,
            "name": "service_eks_cluster",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Name": "service_eks_cluster"
            },
            "unique_id": "AROAR245BNKS5W76WXNZT"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_role",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::126494010021:role/service_ec2_eksnode",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-02-17T09:34:50Z",
            "description": "Allows EC2 instances to call AWS services on your behalf.",
            "id": "service_ec2_eksnode",
            "max_session_duration": 3600,
            "name": "service_ec2_eksnode",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Name": "service_ec2_eksnode"
            },
            "unique_id": "AROAR245BNKS42ZXRZBFF"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_kms_key",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "aws_account_id": "126494010021",
            "creation_date": "2022-11-25T06:11:05Z",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_date": null,
            "description": "nokia-lab2 EKS Secret Encryption Key",
            "enabled": true,
            "expiration_model": "",
            "grant_tokens": null,
            "id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "key_id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "key_manager": "CUSTOMER",
            "key_state": "Enabled",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "multi_region_configuration": [],
            "origin": "AWS_KMS",
            "valid_to": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_kms_key",
      "name": "s3_artifacts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "aws_account_id": "126494010021",
            "creation_date": "2022-11-25T06:11:05Z",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_date": null,
            "description": "nokia-lab2 EKS Secret Encryption Key",
            "enabled": true,
            "expiration_model": "",
            "grant_tokens": null,
            "id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "key_id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "key_manager": "CUSTOMER",
            "key_state": "Enabled",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "multi_region_configuration": [],
            "origin": "AWS_KMS",
            "valid_to": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-00092b296f9cd5d08",
            "ids": [
              "subnet-044fbf983d742268d",
              "subnet-09b0e817a862c09e0",
              "subnet-0c8a88281586d5f59"
            ],
            "tags": {
              "Network": "private"
            },
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-00092b296f9cd5d08",
            "ids": [
              "subnet-097a7e5714354866c",
              "subnet-0f68d36bdce9a84c5",
              "subnet-0f7f1cc0405c394ea"
            ],
            "tags": {
              "Network": "public"
            },
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_subnet_ids",
      "name": "vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filter": null,
            "id": "vpc-00092b296f9cd5d08",
            "ids": [
              "subnet-044fbf983d742268d",
              "subnet-097a7e5714354866c",
              "subnet-09b0e817a862c09e0",
              "subnet-0c8a88281586d5f59",
              "subnet-0f68d36bdce9a84c5",
              "subnet-0f7f1cc0405c394ea"
            ],
            "tags": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "aws_ssm_seelog",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "b3f6a8ebaa97c876d9c830dc0e12a5517cf461198b35c760fe1340839663d855",
            "rendered": "\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/nokia-lab2/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e",
            "template": "\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/${cluster_name}/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e",
            "vars": {
              "cluster_name": "nokia-lab2"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "edges_userdata",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "1380c4cd706867bc3b12e1545b68a8170d435f5fc9ed74c4a61bbdf40f37263f",
            "rendered": "MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"//\"\n\n--//\nContent-Type: text/cloud-config; charset=\"us-ascii\"\nMIME-Version: 1.0\nContent-Transfer-Encoding: 7bit\nContent-Disposition: attachment; filename=\"cloud-config.txt\"\n\n#cloud-config\ncloud_final_modules:\n- [scripts-user, always]\n\n--//\nContent-Type: text/x-shellscript; charset=\"us-ascii\"\n#!/bin/bash -xe\n\nexec \u003e \u003e(tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n[[ -f /etc/.firstboot_done ]] || {\n\n## Install requirements\nrpm -qa | grep parted || yum install -y parted\nrpm -qa | grep rsync || yum install -y rsync\n\n## Install Amazon SSM Agent\nrpm -qa | grep amazon-ssm-agent || yum install -y https://s3.ap-southeast-2.amazonaws.com/amazon-ssm-ap-southeast-2/latest/linux_amd64/amazon-ssm-agent.rpm\nsystemctl enable amazon-ssm-agent\ncat \u003c\u003c EOF \u003e\u003e /etc/amazon/ssm/seelog.xml\n\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/nokia-lab2/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e\nEOF\nsystemctl restart amazon-ssm-agent\n\n## Partitioning\nparted --script /dev/nvme1n1 \\\nmklabel gpt \\\nmkpart log ext4 0% 100%\npartprobe\n\n## Format new partition\nmkfs.ext4 /dev/nvme1n1p1\n\n## Automatic mount\ncat \u003c\u003c EOF \u003e\u003e /etc/fstab\ntmpfs   /tmp            tmpfs     defaults,size=1g,mode=1777,nodev,noexec,nosuid  0       0\n/tmp    /var/tmp        none      rw,nodev,noexec,nosuid,bind     0       0\ntmpfs   /dev/shm        tmpfs     noexec,nosuid,nodev    0       0\nEOF\n\n# /var/log\necho \"$(blkid | grep nvme1n1p1 | awk '{print $2}') /var/log ext4 defaults,nofail 0 2\" \u003e\u003e /etc/fstab\nmkdir -p /tmp/log\nmount /dev/nvme1n1p1 /tmp/log\nrsync -av /var/log/ /tmp/log\numount /tmp/log\nmount /dev/nvme1n1p1 /var/log\nchmod -R 777 /var/log\n\n# Reload fstab\nmount -a\n\nkubelet_service=\"/etc/systemd/system/kubelet.service\"\n\n\n# Docker options set sysconfig environment file\ncat \u003c\u003c EOF \u003e\u003e /etc/sysconfig/docker\n\nOPTIONS='--selinux-enabled=true --exec-opt=native.cgroupdriver=systemd --storage-opt overlay2.override_kernel_check=true --userland-proxy=false'\nEOF\nsystemctl restart docker\n\n\n# Allow user supplied pre userdata code\n\n\n# Systemd does not support appending environment variables. Add a new variable\nsed -i 's/KUBELET_EXTRA_ARGS/KUBELET_EXTRA_ARGS $EXTENDED_KUBELET_ARGS/' $kubelet_service\ncat \u003c\u003c EOF \u003e /etc/systemd/system/kubelet.service.d/9999-extended-kubelet-args.conf\n[Service]\nEnvironment='EXTENDED_KUBELET_ARGS=--cgroup-driver=systemd'\nEOF\nsystemctl daemon-reload\n\n# Allow user supplied userdata code\n\n\n\n# Point resolv.conf to NodeLocal DNS\necho \"supersede domain-name-servers 127.0.0.1,169.254.169.253;\" \u003e\u003e /etc/dhcp/dhclient.conf \u0026\u0026 dhclient -r \u0026\u0026 dhclient\n# We always use image-id in launch-template which means it is considered as custom AMI\nB64_CLUSTER_CA=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1URXlOVEEyTVRrMU5Wb1hEVE15TVRFeU1qQTJNVGsxTlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmsvCm53V0MxSTFXaG5qZFlpNXRtUEZNQjdWWmY0cGk1UjkzUXYyWTFkd1RPZys0WDBJQWVUZUZUQ1Q5L2lBUUxPQmwKVW0vdC9PcUtPeFRveTV3OUoyVjljdDZXa0dvTGRUakZBbkdIVk5XUWRJSCsrZzJqWG9Sa2dCY2pvR3lQWHRXdwoxNm5pRTArRjd4WWYyM0xNYXpRd2JpcnB1aUVjTzlzRi9QakZ5ZW4rbGhXZ1FnZGo1U3FwS3V3b1JWaUhCN2VlCk1vSCtRUWIrTzMyYytsV2w4UnY4b1gvV2hLRHZWdlhRTm9MRWpieFlwSkJFRy9SRE1Lcm04eHVNV0huRXNwYWkKVGhGaTZOa2x2dWNnTFhBMFRzeVN6M2hqZU43cGVPeUVZQnRHUzdhT3N3bGlpVFFDSStWR052RS9RY090Y1o2TgpBd1FOU3VEYnlIMTBINU9yUWNrQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZLSWE3TDdPNUFFZmxhVGx4L3crY3R5TEhWQzFNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTGd2UllsM2JaSXVscnVtRmRtKwpiMG9wa2QzY2lCRjUzdUFrUDRMbUt4NURDdUREL3A5c3NRRHZHenlISVQ5S2x1QW9TUm1jbGdrRzFNcjFPWEpGCkhzV21ZUzN4MmdtaTM5ZTNIbEJkalVxMHp1RjZRemlOTjhiVGRocnIwcHJEaU5nazFQTnR4N1hXalE4ZVBrMWsKbk1IVUxtdVRaaC9ZZGZXeS9VY2cxNE1hVjZ2QkxQcGRHZGFsV0tOMlY0UjVFTEt0NzZsYlE1N21xRkE0dW1UbApsTFRsMWVzMk9ab1d3Qk93NUphWXhVRWJEcHU1UmZURjlHYzE5SzFNNGhuSjIwVXlTZTh3SE5mYXpQUmQyK3RYCnlaSDJJOVNENThpcVM0M2p6MG9LRWRvR0lnYWc2RVVySDU0ME90emtSRi8wMHYydVJiVXlHbi9ZZkJaa3NNTmIKRTF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\nAPI_SERVER_URL=https://02D487B94C5383CC603A95CD39B8731A.gr7.ap-southeast-2.eks.amazonaws.com\n/etc/eks/bootstrap.sh nokia-lab2 --b64-cluster-ca $B64_CLUSTER_CA --apiserver-endpoint $API_SERVER_URL --container-runtime dockerd\n\ntouch /etc/.firstboot_done\n}\n\n\n\n",
            "template": "MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"//\"\n\n--//\nContent-Type: text/cloud-config; charset=\"us-ascii\"\nMIME-Version: 1.0\nContent-Transfer-Encoding: 7bit\nContent-Disposition: attachment; filename=\"cloud-config.txt\"\n\n#cloud-config\ncloud_final_modules:\n- [scripts-user, always]\n\n--//\nContent-Type: text/x-shellscript; charset=\"us-ascii\"\n#!/bin/bash -xe\n\nexec \u003e \u003e(tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n[[ -f /etc/.firstboot_done ]] || {\n\n## Install requirements\nrpm -qa | grep parted || yum install -y parted\nrpm -qa | grep rsync || yum install -y rsync\n\n## Install Amazon SSM Agent\nrpm -qa | grep amazon-ssm-agent || yum install -y https://s3.${region}.amazonaws.com/amazon-ssm-${region}/latest/linux_amd64/amazon-ssm-agent.rpm\nsystemctl enable amazon-ssm-agent\ncat \u003c\u003c EOF \u003e\u003e /etc/amazon/ssm/seelog.xml\n${seelog_file}\nEOF\nsystemctl restart amazon-ssm-agent\n\n## Partitioning\nparted --script /dev/nvme1n1 \\\nmklabel gpt \\\nmkpart log ext4 0% 100%\npartprobe\n\n## Format new partition\nmkfs.ext4 /dev/nvme1n1p1\n\n## Automatic mount\ncat \u003c\u003c EOF \u003e\u003e /etc/fstab\ntmpfs   /tmp            tmpfs     defaults,size=1g,mode=1777,nodev,noexec,nosuid  0       0\n/tmp    /var/tmp        none      rw,nodev,noexec,nosuid,bind     0       0\ntmpfs   /dev/shm        tmpfs     noexec,nosuid,nodev    0       0\nEOF\n\n# /var/log\necho \"$(blkid | grep nvme1n1p1 | awk '{print $2}') /var/log ext4 defaults,nofail 0 2\" \u003e\u003e /etc/fstab\nmkdir -p /tmp/log\nmount /dev/nvme1n1p1 /tmp/log\nrsync -av /var/log/ /tmp/log\numount /tmp/log\nmount /dev/nvme1n1p1 /var/log\nchmod -R 777 /var/log\n\n# Reload fstab\nmount -a\n\nkubelet_service=\"/etc/systemd/system/kubelet.service\"\n\n%{ if container_runtime == \"containerd\" }\nkubelet_service=\"/etc/eks/containerd/kubelet-containerd.service\"\nconf=/etc/eks/containerd/containerd-config.toml\n# EKS bootstrap script moves $conf to /etc/eks/containerd/config.toml\nsection=\"\\[plugins.\\\"io.containerd.grpc.v1.cri\\\".containerd.runtimes.runc.options\\]\"\nkey=\"SystemdCgroup\"\ngrep -q $section $conf || sed -i \"/^runtime_type.*/a $section\" $conf\ngrep -q $key $conf || sed -i \"/$section.*/a $key = true\" $conf\n%{ else }\n# Docker options set sysconfig environment file\ncat \u003c\u003c EOF \u003e\u003e /etc/sysconfig/docker\n\nOPTIONS='${docker_opts}'\nEOF\nsystemctl restart docker\n%{ endif }\n\n# Allow user supplied pre userdata code\n${pre_userdata}\n\n# Systemd does not support appending environment variables. Add a new variable\nsed -i 's/KUBELET_EXTRA_ARGS/KUBELET_EXTRA_ARGS $EXTENDED_KUBELET_ARGS/' $kubelet_service\ncat \u003c\u003c EOF \u003e /etc/systemd/system/kubelet.service.d/9999-extended-kubelet-args.conf\n[Service]\nEnvironment='EXTENDED_KUBELET_ARGS=${kubelet_extra_args}'\nEOF\nsystemctl daemon-reload\n\n# Allow user supplied userdata code\n${additional_userdata}\n\n# Point resolv.conf to NodeLocal DNS\necho \"supersede domain-name-servers 127.0.0.1,169.254.169.253;\" \u003e\u003e /etc/dhcp/dhclient.conf \u0026\u0026 dhclient -r \u0026\u0026 dhclient\n# We always use image-id in launch-template which means it is considered as custom AMI\nB64_CLUSTER_CA=${cluster_ca}\nAPI_SERVER_URL=${cluster_ep}\n/etc/eks/bootstrap.sh ${cluster_name} --b64-cluster-ca $B64_CLUSTER_CA --apiserver-endpoint $API_SERVER_URL --container-runtime ${container_runtime}\n\ntouch /etc/.firstboot_done\n}\n\n%{ if container_runtime == \"containerd\" }\nln -sf /run/containerd/containerd.sock /run/dockershim.sock\nsystemctl daemon-reload\nsystemctl start kubelet\n%{ endif }\n\n",
            "vars": {
              "additional_userdata": "\n",
              "bootstrap_extra_args": "",
              "cluster_ca": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1URXlOVEEyTVRrMU5Wb1hEVE15TVRFeU1qQTJNVGsxTlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmsvCm53V0MxSTFXaG5qZFlpNXRtUEZNQjdWWmY0cGk1UjkzUXYyWTFkd1RPZys0WDBJQWVUZUZUQ1Q5L2lBUUxPQmwKVW0vdC9PcUtPeFRveTV3OUoyVjljdDZXa0dvTGRUakZBbkdIVk5XUWRJSCsrZzJqWG9Sa2dCY2pvR3lQWHRXdwoxNm5pRTArRjd4WWYyM0xNYXpRd2JpcnB1aUVjTzlzRi9QakZ5ZW4rbGhXZ1FnZGo1U3FwS3V3b1JWaUhCN2VlCk1vSCtRUWIrTzMyYytsV2w4UnY4b1gvV2hLRHZWdlhRTm9MRWpieFlwSkJFRy9SRE1Lcm04eHVNV0huRXNwYWkKVGhGaTZOa2x2dWNnTFhBMFRzeVN6M2hqZU43cGVPeUVZQnRHUzdhT3N3bGlpVFFDSStWR052RS9RY090Y1o2TgpBd1FOU3VEYnlIMTBINU9yUWNrQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZLSWE3TDdPNUFFZmxhVGx4L3crY3R5TEhWQzFNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTGd2UllsM2JaSXVscnVtRmRtKwpiMG9wa2QzY2lCRjUzdUFrUDRMbUt4NURDdUREL3A5c3NRRHZHenlISVQ5S2x1QW9TUm1jbGdrRzFNcjFPWEpGCkhzV21ZUzN4MmdtaTM5ZTNIbEJkalVxMHp1RjZRemlOTjhiVGRocnIwcHJEaU5nazFQTnR4N1hXalE4ZVBrMWsKbk1IVUxtdVRaaC9ZZGZXeS9VY2cxNE1hVjZ2QkxQcGRHZGFsV0tOMlY0UjVFTEt0NzZsYlE1N21xRkE0dW1UbApsTFRsMWVzMk9ab1d3Qk93NUphWXhVRWJEcHU1UmZURjlHYzE5SzFNNGhuSjIwVXlTZTh3SE5mYXpQUmQyK3RYCnlaSDJJOVNENThpcVM0M2p6MG9LRWRvR0lnYWc2RVVySDU0ME90emtSRi8wMHYydVJiVXlHbi9ZZkJaa3NNTmIKRTF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
              "cluster_ep": "https://02D487B94C5383CC603A95CD39B8731A.gr7.ap-southeast-2.eks.amazonaws.com",
              "cluster_name": "nokia-lab2",
              "container_runtime": "dockerd",
              "docker_opts": "--selinux-enabled=true --exec-opt=native.cgroupdriver=systemd --storage-opt overlay2.override_kernel_check=true --userland-proxy=false",
              "kubelet_extra_args": "--cgroup-driver=systemd",
              "pre_userdata": "",
              "region": "ap-southeast-2",
              "seelog_file": "\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/nokia-lab2/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e",
              "selinux": "permissive",
              "selinux_booleans": "setsebool -P named_write_master_zones on\nsetsebool -P virt_use_nfs on\nsetsebool -P  container_connect_any on\n",
              "selinux_policies": "cat \u003c\u003c EOF \u003e /tmp/kubemod.te\n\nmodule kubemod 1.0;\nrequire {\n\ttype admin_home_t;\n\ttype auditd_t;\n\ttype afs3_callback_port_t;\n\ttype bin_t;\n\ttype cert_t;\n\ttype cephfs_t;\n\ttype commplex_link_port_t;\n\ttype commplex_main_port_t;\n\ttype chronyd_t;\n\ttype container_t;\n\ttype container_file_t;\n\ttype container_var_lib_t;\n\ttype cgroup_t;\n\ttype chkpwd_t;\n\ttype dhcpc_t;\n\ttype dns_port_t;\n\ttype ec2_instance_connect_t;\n\ttype etc_t;\n\ttype fusefs_t;\n\ttype geneve_port_t;\n\ttype gatekeeper_port_t;\n\ttype hostname_t;\n\ttype http_port_t;\n\ttype http_cache_port_t;\n\ttype ifconfig_t;\n\ttype irqbalance_t;\n\ttype jboss_management_port_t;\n\ttype kerberos_port_t;\n\ttype kernel_t;\n\ttype kubernetes_port_t;\n\ttype logrotate_t;\n\ttype mysqld_port_t;\n\ttype node_t;\n\ttype nfs_t;\n\ttype ntop_port_t;\n\ttype postgresql_port_t;\n\ttype postfix_pickup_t;\n\ttype postfix_master_t;\n\ttype postfix_qmgr_t;\n\ttype pki_ca_port_t;\n\ttype proc_t;\n\ttype rngd_t;\n\ttype redis_port_t;\n\ttype websm_port_t;\n\ttype setfiles_t;\n\ttype sshd_t;\n\ttype sysfs_t;\n\ttype syslogd_t;\n\ttype syslogd_var_run_t;\n\ttype soundd_port_t;\n\ttype unconfined_service_t;\n\ttype unlabeled_t;\n\ttype unreserved_port_t;\n\ttype usr_t;\n\ttype epmd_port_t;\n\ttype hplip_port_t;\n\ttype rabbitmq_port_t;\n\ttype ephemeral_port_t;\n\ttype cyphesis_port_t;\n\ttype amqp_port_t;\n\ttype transproxy_port_t;\n\ttype tram_port_t;\n\tclass capability { audit_write chown fowner dac_override net_bind_service setuid setgid };\n\tclass netlink_route_socket { setopt getopt bind create getattr nlmsg_read read  write};\n\tclass netlink_audit_socket { setopt getopt bind create getattr nlmsg_relay nlmsg_read read  write };\n\tclass dir { open add_name remove_name rmdir create write read setattr search };\n\tclass file { append execute create getattr ioctl lock open rename read setattr unlink write execute_no_trans search };\n\tclass lnk_file { create read write unlink setattr getattr };\n\tclass filesystem associate;\n\tclass fifo_file open;\n\tclass process { setsched transition execmem noatsecure rlimitinh siginh };\n\tclass process2 nnp_transition;\n\tclass system module_request;\n\tclass tcp_socket { accept read write bind connect create getattr listen name_bind name_connect node_bind getopt setopt shutdown };\n\tclass udp_socket { bind read write connect create getattr name_bind name_connect node_bind getopt setopt ioctl };\n}\n#============= auditd_t ==============\nallow auditd_t unlabeled_t:dir { add_name read remove_name write setattr };\nallow auditd_t unlabeled_t:file { append ioctl read create getattr open rename setattr unlink };\n#============= dhcpc_t ==============\nallow dhcpc_t hostname_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t chronyd_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t ifconfig_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t setfiles_t:process { noatsecure rlimitinh siginh };\n#============= ec2_instance_connect_t ==============\nallow ec2_instance_connect_t kernel_t:system module_request;\n#============= container_t ==============\nallow container_t admin_home_t:file open;\nallow container_t bin_t:file { create setattr write rename unlink };\nallow container_t bin_t:dir { add_name remove_name write };\nallow container_t etc_t:dir { add_name remove_name setattr write };\nallow container_t etc_t:file { create rename setattr unlink write };\nallow container_t self:capability { audit_write chown fowner setuid setgid dac_override net_bind_service };\nallow container_t self:netlink_route_socket { setopt bind create  read write getattr nlmsg_read};\nallow container_t self:netlink_audit_socket { write create nlmsg_relay };\nallow container_t self:tcp_socket { accept read write bind connect create getopt getattr listen setopt shutdown };\nallow container_t self:udp_socket { ioctl read write bind connect create getattr getopt setopt };\nallow container_t self:process execmem;\nallow container_t self:dir { add_name write };\nallow container_t self:file { read create };\nallow container_t postgresql_port_t:tcp_socket { name_bind name_connect };\nallow container_t mysqld_port_t:tcp_socket { name_bind name_connect };\nallow container_t websm_port_t:tcp_socket { name_bind name_connect };\nallow container_t dns_port_t:tcp_socket { name_bind name_connect };\nallow container_t dns_port_t:udp_socket name_bind;\nallow container_t fusefs_t:dir setattr;\nallow container_t fusefs_t:file { execute execute_no_trans };\nallow container_t fusefs_t:lnk_file { create read getattr };\nallow container_t cephfs_t:dir { add_name create read remove_name rmdir setattr write };\nallow container_t cephfs_t:file { create execute execute_no_trans rename setattr unlink };\nallow container_t cephfs_t:lnk_file { getattr setattr read write create unlink };\nallow container_t http_cache_port_t:tcp_socket { name_bind name_connect };\nallow container_t http_port_t:tcp_socket { name_bind name_connect };\nallow container_t node_t:tcp_socket node_bind;\nallow container_t node_t:udp_socket node_bind;\nallow container_t nfs_t:dir write;\nallow container_t soundd_port_t:tcp_socket name_bind;\nallow container_t sysfs_t:file { open read getattr };\nallow container_t sysfs_t:dir { open read };\nallow container_t sysfs_t:lnk_file { read getattr };\nallow container_t cgroup_t:file { getattr open read write };\nallow container_t container_var_lib_t:file { ioctl lock open read execute execute_no_trans };\nallow container_t container_file_t:dir search;\nallow container_t container_file_t:file { search read unlink };\nallow container_t container_file_t:lnk_file read;\nallow container_t jboss_management_port_t:tcp_socket { name_bind name_connect };\nallow container_t redis_port_t:tcp_socket { name_bind name_connect };\nallow container_t commplex_link_port_t:tcp_socket { name_bind name_connect };\nallow container_t commplex_main_port_t:tcp_socket { name_bind name_connect };\nallow container_t unreserved_port_t:tcp_socket { name_bind name_connect };\nallow container_t unreserved_port_t:udp_socket { name_bind name_connect };\nallow container_t unconfined_service_t:fifo_file open;\nallow container_t kubernetes_port_t:tcp_socket { name_connect name_bind };\nallow container_t geneve_port_t:tcp_socket name_bind;\nallow container_t pki_ca_port_t:tcp_socket { name_connect name_bind };\nallow container_t gatekeeper_port_t:tcp_socket { name_connect name_bind };\nallow container_t amqp_port_t:tcp_socket { name_connect name_bind };\nallow container_t cyphesis_port_t:tcp_socket { name_connect name_bind };\nallow container_t ephemeral_port_t:tcp_socket { name_connect name_bind };\nallow container_t epmd_port_t:tcp_socket { name_connect name_bind };\nallow container_t hplip_port_t:tcp_socket { name_connect name_bind };\nallow container_t rabbitmq_port_t:tcp_socket { name_connect name_bind };\nallow container_t transproxy_port_t:tcp_socket { name_connect name_bind };\nallow container_t tram_port_t:tcp_socket { name_connect name_bind };\nallow container_t syslogd_var_run_t:file read;\nallow container_t afs3_callback_port_t:tcp_socket { name_connect name_bind };\nallow container_t kernel_t:system module_request;\nallow container_t ntop_port_t:tcp_socket { name_connect name_bind };\nallow container_t proc_t:filesystem associate;\nallow container_t usr_t:dir write;\nallow container_t kerberos_port_t:tcp_socket { name_connect name_bind };\n#============= rngd_t ==============\nallow rngd_t cert_t:dir search;\nallow rngd_t self:process setsched;\n#============= sshd_t ==============\nallow sshd_t unlabeled_t:file { lock open read write };\nallow sshd_t chkpwd_t:process { noatsecure rlimitinh siginh };\nallow sshd_t ec2_instance_connect_t:process { noatsecure rlimitinh siginh };\n#============= syslogd_t ==============\nallow syslogd_t unlabeled_t:file { open ioctl unlink read append getattr };\n#============= unconfined_service_t ==============\nallow unconfined_service_t container_t:process transition;\nallow unconfined_service_t container_t:process2 nnp_transition;\n#============= postfix_master_t ==============\nallow postfix_master_t kernel_t:system module_request;\nallow postfix_master_t postfix_pickup_t:process { noatsecure rlimitinh siginh };\nallow postfix_master_t postfix_qmgr_t:process { noatsecure rlimitinh siginh };\n#============= postfix_pickup_t ==============\nallow postfix_pickup_t kernel_t:system module_request;\n#============= postfix_qmgr_t ==============\nallow postfix_qmgr_t kernel_t:system module_request;\n#============= irqbalance_t ==============\nallow irqbalance_t unlabeled_t:file { open read };\n#============= logrotate_t ==============\nallow logrotate_t unlabeled_t:dir { open read };\n\nEOF\ncheckmodule -M -m -o /tmp/kubemod.mod /tmp/kubemod.te\nsemodule_package -o /tmp/kubemod.pp -m /tmp/kubemod.mod\nsemodule -i /tmp/kubemod.pp\nrestorecon -R /var/log\ntouch /.autorelabel\ntouch /etc/.firstboot_done\nreboot\n"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "workers_userdata",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "1380c4cd706867bc3b12e1545b68a8170d435f5fc9ed74c4a61bbdf40f37263f",
            "rendered": "MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"//\"\n\n--//\nContent-Type: text/cloud-config; charset=\"us-ascii\"\nMIME-Version: 1.0\nContent-Transfer-Encoding: 7bit\nContent-Disposition: attachment; filename=\"cloud-config.txt\"\n\n#cloud-config\ncloud_final_modules:\n- [scripts-user, always]\n\n--//\nContent-Type: text/x-shellscript; charset=\"us-ascii\"\n#!/bin/bash -xe\n\nexec \u003e \u003e(tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n[[ -f /etc/.firstboot_done ]] || {\n\n## Install requirements\nrpm -qa | grep parted || yum install -y parted\nrpm -qa | grep rsync || yum install -y rsync\n\n## Install Amazon SSM Agent\nrpm -qa | grep amazon-ssm-agent || yum install -y https://s3.ap-southeast-2.amazonaws.com/amazon-ssm-ap-southeast-2/latest/linux_amd64/amazon-ssm-agent.rpm\nsystemctl enable amazon-ssm-agent\ncat \u003c\u003c EOF \u003e\u003e /etc/amazon/ssm/seelog.xml\n\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/nokia-lab2/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e\nEOF\nsystemctl restart amazon-ssm-agent\n\n## Partitioning\nparted --script /dev/nvme1n1 \\\nmklabel gpt \\\nmkpart log ext4 0% 100%\npartprobe\n\n## Format new partition\nmkfs.ext4 /dev/nvme1n1p1\n\n## Automatic mount\ncat \u003c\u003c EOF \u003e\u003e /etc/fstab\ntmpfs   /tmp            tmpfs     defaults,size=1g,mode=1777,nodev,noexec,nosuid  0       0\n/tmp    /var/tmp        none      rw,nodev,noexec,nosuid,bind     0       0\ntmpfs   /dev/shm        tmpfs     noexec,nosuid,nodev    0       0\nEOF\n\n# /var/log\necho \"$(blkid | grep nvme1n1p1 | awk '{print $2}') /var/log ext4 defaults,nofail 0 2\" \u003e\u003e /etc/fstab\nmkdir -p /tmp/log\nmount /dev/nvme1n1p1 /tmp/log\nrsync -av /var/log/ /tmp/log\numount /tmp/log\nmount /dev/nvme1n1p1 /var/log\nchmod -R 777 /var/log\n\n# Reload fstab\nmount -a\n\nkubelet_service=\"/etc/systemd/system/kubelet.service\"\n\n\n# Docker options set sysconfig environment file\ncat \u003c\u003c EOF \u003e\u003e /etc/sysconfig/docker\n\nOPTIONS='--selinux-enabled=true --exec-opt=native.cgroupdriver=systemd --storage-opt overlay2.override_kernel_check=true --userland-proxy=false'\nEOF\nsystemctl restart docker\n\n\n# Allow user supplied pre userdata code\n\n\n# Systemd does not support appending environment variables. Add a new variable\nsed -i 's/KUBELET_EXTRA_ARGS/KUBELET_EXTRA_ARGS $EXTENDED_KUBELET_ARGS/' $kubelet_service\ncat \u003c\u003c EOF \u003e /etc/systemd/system/kubelet.service.d/9999-extended-kubelet-args.conf\n[Service]\nEnvironment='EXTENDED_KUBELET_ARGS=--cgroup-driver=systemd'\nEOF\nsystemctl daemon-reload\n\n# Allow user supplied userdata code\n\n\n\n# Point resolv.conf to NodeLocal DNS\necho \"supersede domain-name-servers 127.0.0.1,169.254.169.253;\" \u003e\u003e /etc/dhcp/dhclient.conf \u0026\u0026 dhclient -r \u0026\u0026 dhclient\n# We always use image-id in launch-template which means it is considered as custom AMI\nB64_CLUSTER_CA=LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1URXlOVEEyTVRrMU5Wb1hEVE15TVRFeU1qQTJNVGsxTlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmsvCm53V0MxSTFXaG5qZFlpNXRtUEZNQjdWWmY0cGk1UjkzUXYyWTFkd1RPZys0WDBJQWVUZUZUQ1Q5L2lBUUxPQmwKVW0vdC9PcUtPeFRveTV3OUoyVjljdDZXa0dvTGRUakZBbkdIVk5XUWRJSCsrZzJqWG9Sa2dCY2pvR3lQWHRXdwoxNm5pRTArRjd4WWYyM0xNYXpRd2JpcnB1aUVjTzlzRi9QakZ5ZW4rbGhXZ1FnZGo1U3FwS3V3b1JWaUhCN2VlCk1vSCtRUWIrTzMyYytsV2w4UnY4b1gvV2hLRHZWdlhRTm9MRWpieFlwSkJFRy9SRE1Lcm04eHVNV0huRXNwYWkKVGhGaTZOa2x2dWNnTFhBMFRzeVN6M2hqZU43cGVPeUVZQnRHUzdhT3N3bGlpVFFDSStWR052RS9RY090Y1o2TgpBd1FOU3VEYnlIMTBINU9yUWNrQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZLSWE3TDdPNUFFZmxhVGx4L3crY3R5TEhWQzFNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTGd2UllsM2JaSXVscnVtRmRtKwpiMG9wa2QzY2lCRjUzdUFrUDRMbUt4NURDdUREL3A5c3NRRHZHenlISVQ5S2x1QW9TUm1jbGdrRzFNcjFPWEpGCkhzV21ZUzN4MmdtaTM5ZTNIbEJkalVxMHp1RjZRemlOTjhiVGRocnIwcHJEaU5nazFQTnR4N1hXalE4ZVBrMWsKbk1IVUxtdVRaaC9ZZGZXeS9VY2cxNE1hVjZ2QkxQcGRHZGFsV0tOMlY0UjVFTEt0NzZsYlE1N21xRkE0dW1UbApsTFRsMWVzMk9ab1d3Qk93NUphWXhVRWJEcHU1UmZURjlHYzE5SzFNNGhuSjIwVXlTZTh3SE5mYXpQUmQyK3RYCnlaSDJJOVNENThpcVM0M2p6MG9LRWRvR0lnYWc2RVVySDU0ME90emtSRi8wMHYydVJiVXlHbi9ZZkJaa3NNTmIKRTF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\nAPI_SERVER_URL=https://02D487B94C5383CC603A95CD39B8731A.gr7.ap-southeast-2.eks.amazonaws.com\n/etc/eks/bootstrap.sh nokia-lab2 --b64-cluster-ca $B64_CLUSTER_CA --apiserver-endpoint $API_SERVER_URL --container-runtime dockerd\n\ntouch /etc/.firstboot_done\n}\n\n\n\n",
            "template": "MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"//\"\n\n--//\nContent-Type: text/cloud-config; charset=\"us-ascii\"\nMIME-Version: 1.0\nContent-Transfer-Encoding: 7bit\nContent-Disposition: attachment; filename=\"cloud-config.txt\"\n\n#cloud-config\ncloud_final_modules:\n- [scripts-user, always]\n\n--//\nContent-Type: text/x-shellscript; charset=\"us-ascii\"\n#!/bin/bash -xe\n\nexec \u003e \u003e(tee /var/log/user-data.log|logger -t user-data -s 2\u003e/dev/console) 2\u003e\u00261\n\n[[ -f /etc/.firstboot_done ]] || {\n\n## Install requirements\nrpm -qa | grep parted || yum install -y parted\nrpm -qa | grep rsync || yum install -y rsync\n\n## Install Amazon SSM Agent\nrpm -qa | grep amazon-ssm-agent || yum install -y https://s3.${region}.amazonaws.com/amazon-ssm-${region}/latest/linux_amd64/amazon-ssm-agent.rpm\nsystemctl enable amazon-ssm-agent\ncat \u003c\u003c EOF \u003e\u003e /etc/amazon/ssm/seelog.xml\n${seelog_file}\nEOF\nsystemctl restart amazon-ssm-agent\n\n## Partitioning\nparted --script /dev/nvme1n1 \\\nmklabel gpt \\\nmkpart log ext4 0% 100%\npartprobe\n\n## Format new partition\nmkfs.ext4 /dev/nvme1n1p1\n\n## Automatic mount\ncat \u003c\u003c EOF \u003e\u003e /etc/fstab\ntmpfs   /tmp            tmpfs     defaults,size=1g,mode=1777,nodev,noexec,nosuid  0       0\n/tmp    /var/tmp        none      rw,nodev,noexec,nosuid,bind     0       0\ntmpfs   /dev/shm        tmpfs     noexec,nosuid,nodev    0       0\nEOF\n\n# /var/log\necho \"$(blkid | grep nvme1n1p1 | awk '{print $2}') /var/log ext4 defaults,nofail 0 2\" \u003e\u003e /etc/fstab\nmkdir -p /tmp/log\nmount /dev/nvme1n1p1 /tmp/log\nrsync -av /var/log/ /tmp/log\numount /tmp/log\nmount /dev/nvme1n1p1 /var/log\nchmod -R 777 /var/log\n\n# Reload fstab\nmount -a\n\nkubelet_service=\"/etc/systemd/system/kubelet.service\"\n\n%{ if container_runtime == \"containerd\" }\nkubelet_service=\"/etc/eks/containerd/kubelet-containerd.service\"\nconf=/etc/eks/containerd/containerd-config.toml\n# EKS bootstrap script moves $conf to /etc/eks/containerd/config.toml\nsection=\"\\[plugins.\\\"io.containerd.grpc.v1.cri\\\".containerd.runtimes.runc.options\\]\"\nkey=\"SystemdCgroup\"\ngrep -q $section $conf || sed -i \"/^runtime_type.*/a $section\" $conf\ngrep -q $key $conf || sed -i \"/$section.*/a $key = true\" $conf\n%{ else }\n# Docker options set sysconfig environment file\ncat \u003c\u003c EOF \u003e\u003e /etc/sysconfig/docker\n\nOPTIONS='${docker_opts}'\nEOF\nsystemctl restart docker\n%{ endif }\n\n# Allow user supplied pre userdata code\n${pre_userdata}\n\n# Systemd does not support appending environment variables. Add a new variable\nsed -i 's/KUBELET_EXTRA_ARGS/KUBELET_EXTRA_ARGS $EXTENDED_KUBELET_ARGS/' $kubelet_service\ncat \u003c\u003c EOF \u003e /etc/systemd/system/kubelet.service.d/9999-extended-kubelet-args.conf\n[Service]\nEnvironment='EXTENDED_KUBELET_ARGS=${kubelet_extra_args}'\nEOF\nsystemctl daemon-reload\n\n# Allow user supplied userdata code\n${additional_userdata}\n\n# Point resolv.conf to NodeLocal DNS\necho \"supersede domain-name-servers 127.0.0.1,169.254.169.253;\" \u003e\u003e /etc/dhcp/dhclient.conf \u0026\u0026 dhclient -r \u0026\u0026 dhclient\n# We always use image-id in launch-template which means it is considered as custom AMI\nB64_CLUSTER_CA=${cluster_ca}\nAPI_SERVER_URL=${cluster_ep}\n/etc/eks/bootstrap.sh ${cluster_name} --b64-cluster-ca $B64_CLUSTER_CA --apiserver-endpoint $API_SERVER_URL --container-runtime ${container_runtime}\n\ntouch /etc/.firstboot_done\n}\n\n%{ if container_runtime == \"containerd\" }\nln -sf /run/containerd/containerd.sock /run/dockershim.sock\nsystemctl daemon-reload\nsystemctl start kubelet\n%{ endif }\n\n",
            "vars": {
              "additional_userdata": "\n",
              "bootstrap_extra_args": "",
              "cluster_ca": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1URXlOVEEyTVRrMU5Wb1hEVE15TVRFeU1qQTJNVGsxTlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmsvCm53V0MxSTFXaG5qZFlpNXRtUEZNQjdWWmY0cGk1UjkzUXYyWTFkd1RPZys0WDBJQWVUZUZUQ1Q5L2lBUUxPQmwKVW0vdC9PcUtPeFRveTV3OUoyVjljdDZXa0dvTGRUakZBbkdIVk5XUWRJSCsrZzJqWG9Sa2dCY2pvR3lQWHRXdwoxNm5pRTArRjd4WWYyM0xNYXpRd2JpcnB1aUVjTzlzRi9QakZ5ZW4rbGhXZ1FnZGo1U3FwS3V3b1JWaUhCN2VlCk1vSCtRUWIrTzMyYytsV2w4UnY4b1gvV2hLRHZWdlhRTm9MRWpieFlwSkJFRy9SRE1Lcm04eHVNV0huRXNwYWkKVGhGaTZOa2x2dWNnTFhBMFRzeVN6M2hqZU43cGVPeUVZQnRHUzdhT3N3bGlpVFFDSStWR052RS9RY090Y1o2TgpBd1FOU3VEYnlIMTBINU9yUWNrQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZLSWE3TDdPNUFFZmxhVGx4L3crY3R5TEhWQzFNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTGd2UllsM2JaSXVscnVtRmRtKwpiMG9wa2QzY2lCRjUzdUFrUDRMbUt4NURDdUREL3A5c3NRRHZHenlISVQ5S2x1QW9TUm1jbGdrRzFNcjFPWEpGCkhzV21ZUzN4MmdtaTM5ZTNIbEJkalVxMHp1RjZRemlOTjhiVGRocnIwcHJEaU5nazFQTnR4N1hXalE4ZVBrMWsKbk1IVUxtdVRaaC9ZZGZXeS9VY2cxNE1hVjZ2QkxQcGRHZGFsV0tOMlY0UjVFTEt0NzZsYlE1N21xRkE0dW1UbApsTFRsMWVzMk9ab1d3Qk93NUphWXhVRWJEcHU1UmZURjlHYzE5SzFNNGhuSjIwVXlTZTh3SE5mYXpQUmQyK3RYCnlaSDJJOVNENThpcVM0M2p6MG9LRWRvR0lnYWc2RVVySDU0ME90emtSRi8wMHYydVJiVXlHbi9ZZkJaa3NNTmIKRTF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
              "cluster_ep": "https://02D487B94C5383CC603A95CD39B8731A.gr7.ap-southeast-2.eks.amazonaws.com",
              "cluster_name": "nokia-lab2",
              "container_runtime": "dockerd",
              "docker_opts": "--selinux-enabled=true --exec-opt=native.cgroupdriver=systemd --storage-opt overlay2.override_kernel_check=true --userland-proxy=false",
              "kubelet_extra_args": "--cgroup-driver=systemd",
              "pre_userdata": "",
              "region": "ap-southeast-2",
              "seelog_file": "\u003c!--amazon-ssm-agent uses seelog logging --\u003e\n\u003c!--Seelog has github wiki pages, which contain detailed how-tos references: https://github.com/cihub/seelog/wiki --\u003e\n\u003c!--Seelog examples can be found here: https://github.com/cihub/seelog-examples --\u003e\n\u003cseelog type=\"adaptive\" mininterval=\"2000000\" maxinterval=\"100000000\" critmsgcount=\"500\" minlevel=\"info\"\u003e\n    \u003cexceptions\u003e\n        \u003cexception filepattern=\"test*\" minlevel=\"error\"/\u003e\n    \u003c/exceptions\u003e\n    \u003coutputs formatid=\"fmtinfo\"\u003e\n        \u003cconsole formatid=\"fmtinfo\"/\u003e\n        \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/amazon-ssm-agent.log\" maxsize=\"30000000\" maxrolls=\"5\"/\u003e\n        \u003cfilter levels=\"error,critical\" formatid=\"fmterror\"\u003e\n            \u003crollingfile type=\"size\" filename=\"/var/log/amazon/ssm/errors.log\" maxsize=\"10000000\" maxrolls=\"5\"/\u003e\n        \u003c/filter\u003e\n        \u003ccustom name=\"cloudwatch_receiver\" formatid=\"fmtdebug\" data-log-group=\"/aws/eks/nokia-lab2/cluster\"/\u003e\n    \u003c/outputs\u003e\n    \u003cformats\u003e\n        \u003cformat id=\"fmterror\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtdebug\" format=\"%Date %Time %LEVEL [%FuncShort @ %File.%Line] %Msg%n\"/\u003e\n        \u003cformat id=\"fmtinfo\" format=\"%Date %Time %LEVEL %Msg%n\"/\u003e\n    \u003c/formats\u003e\n\u003c/seelog\u003e",
              "selinux": "permissive",
              "selinux_booleans": "setsebool -P named_write_master_zones on\nsetsebool -P virt_use_nfs on\nsetsebool -P  container_connect_any on\n",
              "selinux_policies": "cat \u003c\u003c EOF \u003e /tmp/kubemod.te\n\nmodule kubemod 1.0;\nrequire {\n\ttype admin_home_t;\n\ttype auditd_t;\n\ttype afs3_callback_port_t;\n\ttype bin_t;\n\ttype cert_t;\n\ttype cephfs_t;\n\ttype commplex_link_port_t;\n\ttype commplex_main_port_t;\n\ttype chronyd_t;\n\ttype container_t;\n\ttype container_file_t;\n\ttype container_var_lib_t;\n\ttype cgroup_t;\n\ttype chkpwd_t;\n\ttype dhcpc_t;\n\ttype dns_port_t;\n\ttype ec2_instance_connect_t;\n\ttype etc_t;\n\ttype fusefs_t;\n\ttype geneve_port_t;\n\ttype gatekeeper_port_t;\n\ttype hostname_t;\n\ttype http_port_t;\n\ttype http_cache_port_t;\n\ttype ifconfig_t;\n\ttype irqbalance_t;\n\ttype jboss_management_port_t;\n\ttype kerberos_port_t;\n\ttype kernel_t;\n\ttype kubernetes_port_t;\n\ttype logrotate_t;\n\ttype mysqld_port_t;\n\ttype node_t;\n\ttype nfs_t;\n\ttype ntop_port_t;\n\ttype postgresql_port_t;\n\ttype postfix_pickup_t;\n\ttype postfix_master_t;\n\ttype postfix_qmgr_t;\n\ttype pki_ca_port_t;\n\ttype proc_t;\n\ttype rngd_t;\n\ttype redis_port_t;\n\ttype websm_port_t;\n\ttype setfiles_t;\n\ttype sshd_t;\n\ttype sysfs_t;\n\ttype syslogd_t;\n\ttype syslogd_var_run_t;\n\ttype soundd_port_t;\n\ttype unconfined_service_t;\n\ttype unlabeled_t;\n\ttype unreserved_port_t;\n\ttype usr_t;\n\ttype epmd_port_t;\n\ttype hplip_port_t;\n\ttype rabbitmq_port_t;\n\ttype ephemeral_port_t;\n\ttype cyphesis_port_t;\n\ttype amqp_port_t;\n\ttype transproxy_port_t;\n\ttype tram_port_t;\n\tclass capability { audit_write chown fowner dac_override net_bind_service setuid setgid };\n\tclass netlink_route_socket { setopt getopt bind create getattr nlmsg_read read  write};\n\tclass netlink_audit_socket { setopt getopt bind create getattr nlmsg_relay nlmsg_read read  write };\n\tclass dir { open add_name remove_name rmdir create write read setattr search };\n\tclass file { append execute create getattr ioctl lock open rename read setattr unlink write execute_no_trans search };\n\tclass lnk_file { create read write unlink setattr getattr };\n\tclass filesystem associate;\n\tclass fifo_file open;\n\tclass process { setsched transition execmem noatsecure rlimitinh siginh };\n\tclass process2 nnp_transition;\n\tclass system module_request;\n\tclass tcp_socket { accept read write bind connect create getattr listen name_bind name_connect node_bind getopt setopt shutdown };\n\tclass udp_socket { bind read write connect create getattr name_bind name_connect node_bind getopt setopt ioctl };\n}\n#============= auditd_t ==============\nallow auditd_t unlabeled_t:dir { add_name read remove_name write setattr };\nallow auditd_t unlabeled_t:file { append ioctl read create getattr open rename setattr unlink };\n#============= dhcpc_t ==============\nallow dhcpc_t hostname_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t chronyd_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t ifconfig_t:process { noatsecure rlimitinh siginh };\nallow dhcpc_t setfiles_t:process { noatsecure rlimitinh siginh };\n#============= ec2_instance_connect_t ==============\nallow ec2_instance_connect_t kernel_t:system module_request;\n#============= container_t ==============\nallow container_t admin_home_t:file open;\nallow container_t bin_t:file { create setattr write rename unlink };\nallow container_t bin_t:dir { add_name remove_name write };\nallow container_t etc_t:dir { add_name remove_name setattr write };\nallow container_t etc_t:file { create rename setattr unlink write };\nallow container_t self:capability { audit_write chown fowner setuid setgid dac_override net_bind_service };\nallow container_t self:netlink_route_socket { setopt bind create  read write getattr nlmsg_read};\nallow container_t self:netlink_audit_socket { write create nlmsg_relay };\nallow container_t self:tcp_socket { accept read write bind connect create getopt getattr listen setopt shutdown };\nallow container_t self:udp_socket { ioctl read write bind connect create getattr getopt setopt };\nallow container_t self:process execmem;\nallow container_t self:dir { add_name write };\nallow container_t self:file { read create };\nallow container_t postgresql_port_t:tcp_socket { name_bind name_connect };\nallow container_t mysqld_port_t:tcp_socket { name_bind name_connect };\nallow container_t websm_port_t:tcp_socket { name_bind name_connect };\nallow container_t dns_port_t:tcp_socket { name_bind name_connect };\nallow container_t dns_port_t:udp_socket name_bind;\nallow container_t fusefs_t:dir setattr;\nallow container_t fusefs_t:file { execute execute_no_trans };\nallow container_t fusefs_t:lnk_file { create read getattr };\nallow container_t cephfs_t:dir { add_name create read remove_name rmdir setattr write };\nallow container_t cephfs_t:file { create execute execute_no_trans rename setattr unlink };\nallow container_t cephfs_t:lnk_file { getattr setattr read write create unlink };\nallow container_t http_cache_port_t:tcp_socket { name_bind name_connect };\nallow container_t http_port_t:tcp_socket { name_bind name_connect };\nallow container_t node_t:tcp_socket node_bind;\nallow container_t node_t:udp_socket node_bind;\nallow container_t nfs_t:dir write;\nallow container_t soundd_port_t:tcp_socket name_bind;\nallow container_t sysfs_t:file { open read getattr };\nallow container_t sysfs_t:dir { open read };\nallow container_t sysfs_t:lnk_file { read getattr };\nallow container_t cgroup_t:file { getattr open read write };\nallow container_t container_var_lib_t:file { ioctl lock open read execute execute_no_trans };\nallow container_t container_file_t:dir search;\nallow container_t container_file_t:file { search read unlink };\nallow container_t container_file_t:lnk_file read;\nallow container_t jboss_management_port_t:tcp_socket { name_bind name_connect };\nallow container_t redis_port_t:tcp_socket { name_bind name_connect };\nallow container_t commplex_link_port_t:tcp_socket { name_bind name_connect };\nallow container_t commplex_main_port_t:tcp_socket { name_bind name_connect };\nallow container_t unreserved_port_t:tcp_socket { name_bind name_connect };\nallow container_t unreserved_port_t:udp_socket { name_bind name_connect };\nallow container_t unconfined_service_t:fifo_file open;\nallow container_t kubernetes_port_t:tcp_socket { name_connect name_bind };\nallow container_t geneve_port_t:tcp_socket name_bind;\nallow container_t pki_ca_port_t:tcp_socket { name_connect name_bind };\nallow container_t gatekeeper_port_t:tcp_socket { name_connect name_bind };\nallow container_t amqp_port_t:tcp_socket { name_connect name_bind };\nallow container_t cyphesis_port_t:tcp_socket { name_connect name_bind };\nallow container_t ephemeral_port_t:tcp_socket { name_connect name_bind };\nallow container_t epmd_port_t:tcp_socket { name_connect name_bind };\nallow container_t hplip_port_t:tcp_socket { name_connect name_bind };\nallow container_t rabbitmq_port_t:tcp_socket { name_connect name_bind };\nallow container_t transproxy_port_t:tcp_socket { name_connect name_bind };\nallow container_t tram_port_t:tcp_socket { name_connect name_bind };\nallow container_t syslogd_var_run_t:file read;\nallow container_t afs3_callback_port_t:tcp_socket { name_connect name_bind };\nallow container_t kernel_t:system module_request;\nallow container_t ntop_port_t:tcp_socket { name_connect name_bind };\nallow container_t proc_t:filesystem associate;\nallow container_t usr_t:dir write;\nallow container_t kerberos_port_t:tcp_socket { name_connect name_bind };\n#============= rngd_t ==============\nallow rngd_t cert_t:dir search;\nallow rngd_t self:process setsched;\n#============= sshd_t ==============\nallow sshd_t unlabeled_t:file { lock open read write };\nallow sshd_t chkpwd_t:process { noatsecure rlimitinh siginh };\nallow sshd_t ec2_instance_connect_t:process { noatsecure rlimitinh siginh };\n#============= syslogd_t ==============\nallow syslogd_t unlabeled_t:file { open ioctl unlink read append getattr };\n#============= unconfined_service_t ==============\nallow unconfined_service_t container_t:process transition;\nallow unconfined_service_t container_t:process2 nnp_transition;\n#============= postfix_master_t ==============\nallow postfix_master_t kernel_t:system module_request;\nallow postfix_master_t postfix_pickup_t:process { noatsecure rlimitinh siginh };\nallow postfix_master_t postfix_qmgr_t:process { noatsecure rlimitinh siginh };\n#============= postfix_pickup_t ==============\nallow postfix_pickup_t kernel_t:system module_request;\n#============= postfix_qmgr_t ==============\nallow postfix_qmgr_t kernel_t:system module_request;\n#============= irqbalance_t ==============\nallow irqbalance_t unlabeled_t:file { open read };\n#============= logrotate_t ==============\nallow logrotate_t unlabeled_t:dir { open read };\n\nEOF\ncheckmodule -M -m -o /tmp/kubemod.mod /tmp/kubemod.te\nsemodule_package -o /tmp/kubemod.pp -m /tmp/kubemod.mod\nsemodule -i /tmp/kubemod.pp\nrestorecon -R /var/log\ntouch /.autorelabel\ntouch /etc/.firstboot_done\nreboot\n"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_default_security_group",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:security-group/sg-07c5dbe337663258a",
            "description": "default VPC security group",
            "egress": [],
            "id": "sg-07c5dbe337663258a",
            "ingress": [],
            "name": "default",
            "owner_id": "126494010021",
            "revoke_rules_on_delete": false,
            "tags": null,
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            },
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_file_system",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticfilesystem:ap-southeast-2:126494010021:file-system/fs-012dd8a9f5c78bfab",
            "availability_zone_id": "",
            "availability_zone_name": "",
            "creation_token": "terraform-20221125061117791000000001",
            "dns_name": "fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "encrypted": true,
            "id": "fs-012dd8a9f5c78bfab",
            "kms_key_id": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "lifecycle_policy": [
              {
                "transition_to_ia": "AFTER_30_DAYS",
                "transition_to_primary_storage_class": ""
              }
            ],
            "number_of_mount_targets": 0,
            "owner_id": "126494010021",
            "performance_mode": "generalPurpose",
            "provisioned_throughput_in_mibps": 0,
            "size_in_bytes": [
              {
                "value": 6144,
                "value_in_ia": 0,
                "value_in_standard": 6144
              }
            ],
            "tags": {
              "Name": "nokia-lab2-efs"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-efs"
            },
            "throughput_mode": "bursting"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_alias.cluster",
            "aws_kms_key.this",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.cluster"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_mount_target",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "apse2-az1",
            "availability_zone_name": "ap-southeast-2a",
            "dns_name": "fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-southeast-2:126494010021:file-system/fs-012dd8a9f5c78bfab",
            "file_system_id": "fs-012dd8a9f5c78bfab",
            "id": "fsmt-05ebe04cfcf1fc418",
            "ip_address": "10.5.1.28",
            "mount_target_dns_name": "ap-southeast-2a.fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "network_interface_id": "eni-05724f30ce5c8c7a7",
            "owner_id": "126494010021",
            "security_groups": [
              "sg-04c1c31ff939cf2ce",
              "sg-0a02fb5edf125a05e"
            ],
            "subnet_id": "subnet-044fbf983d742268d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.this",
            "aws_eip.nat",
            "aws_eks_cluster.this",
            "aws_internet_gateway.this",
            "aws_kms_alias.cluster",
            "aws_kms_key.this",
            "aws_nat_gateway.this",
            "aws_security_group.cluster",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.eks",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.cluster",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "time_sleep.wait_10_seconds"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "apse2-az2",
            "availability_zone_name": "ap-southeast-2c",
            "dns_name": "fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-southeast-2:126494010021:file-system/fs-012dd8a9f5c78bfab",
            "file_system_id": "fs-012dd8a9f5c78bfab",
            "id": "fsmt-0d75a51d93fd71489",
            "ip_address": "10.5.5.14",
            "mount_target_dns_name": "ap-southeast-2c.fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "network_interface_id": "eni-0509795f2a9543bec",
            "owner_id": "126494010021",
            "security_groups": [
              "sg-04c1c31ff939cf2ce",
              "sg-0a02fb5edf125a05e"
            ],
            "subnet_id": "subnet-09b0e817a862c09e0"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.this",
            "aws_eip.nat",
            "aws_eks_cluster.this",
            "aws_internet_gateway.this",
            "aws_kms_alias.cluster",
            "aws_kms_key.this",
            "aws_nat_gateway.this",
            "aws_security_group.cluster",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.eks",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.cluster",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "time_sleep.wait_10_seconds"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "apse2-az3",
            "availability_zone_name": "ap-southeast-2b",
            "dns_name": "fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-southeast-2:126494010021:file-system/fs-012dd8a9f5c78bfab",
            "file_system_id": "fs-012dd8a9f5c78bfab",
            "id": "fsmt-03a9ffb4701d9252c",
            "ip_address": "10.5.3.168",
            "mount_target_dns_name": "ap-southeast-2b.fs-012dd8a9f5c78bfab.efs.ap-southeast-2.amazonaws.com",
            "network_interface_id": "eni-05681fd6b09451ad2",
            "owner_id": "126494010021",
            "security_groups": [
              "sg-04c1c31ff939cf2ce",
              "sg-0a02fb5edf125a05e"
            ],
            "subnet_id": "subnet-0c8a88281586d5f59"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.this",
            "aws_eip.nat",
            "aws_eks_cluster.this",
            "aws_internet_gateway.this",
            "aws_kms_alias.cluster",
            "aws_kms_key.this",
            "aws_nat_gateway.this",
            "aws_security_group.cluster",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.eks",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.cluster",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "time_sleep.wait_10_seconds"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-015ded33b68aa6bdb",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0867e252702741a3c",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-015ded33b68aa6bdb",
            "instance": "",
            "network_border_group": "ap-southeast-2",
            "network_interface": "eni-0172e14d8d5a172b5",
            "private_dns": "ip-10-5-0-111.ap-southeast-2.compute.internal",
            "private_ip": "10.5.0.111",
            "public_dns": "ec2-13-237-215-84.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "13.237.215.84",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2a-eip"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2a-eip"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0718ef5fdcfe01f74",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-09321714f69c95f04",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0718ef5fdcfe01f74",
            "instance": "",
            "network_border_group": "ap-southeast-2",
            "network_interface": "eni-04210e1758cdb9eb2",
            "private_dns": "ip-10-5-2-79.ap-southeast-2.compute.internal",
            "private_ip": "10.5.2.79",
            "public_dns": "ec2-3-24-17-77.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "3.24.17.77",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2b-eip"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2b-eip"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0171e8808480017cf",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-012093078d4cccac7",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0171e8808480017cf",
            "instance": "",
            "network_border_group": "ap-southeast-2",
            "network_interface": "eni-0a1b306f230bce9ca",
            "private_dns": "ip-10-5-4-50.ap-southeast-2.compute.internal",
            "private_ip": "10.5.4.50",
            "public_dns": "ec2-3-104-97-34.ap-southeast-2.compute.amazonaws.com",
            "public_ip": "3.104.97.34",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2c-eip"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2c-eip"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:ap-southeast-2:126494010021:cluster/nokia-lab2",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1URXlOVEEyTVRrMU5Wb1hEVE15TVRFeU1qQTJNVGsxTlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTmsvCm53V0MxSTFXaG5qZFlpNXRtUEZNQjdWWmY0cGk1UjkzUXYyWTFkd1RPZys0WDBJQWVUZUZUQ1Q5L2lBUUxPQmwKVW0vdC9PcUtPeFRveTV3OUoyVjljdDZXa0dvTGRUakZBbkdIVk5XUWRJSCsrZzJqWG9Sa2dCY2pvR3lQWHRXdwoxNm5pRTArRjd4WWYyM0xNYXpRd2JpcnB1aUVjTzlzRi9QakZ5ZW4rbGhXZ1FnZGo1U3FwS3V3b1JWaUhCN2VlCk1vSCtRUWIrTzMyYytsV2w4UnY4b1gvV2hLRHZWdlhRTm9MRWpieFlwSkJFRy9SRE1Lcm04eHVNV0huRXNwYWkKVGhGaTZOa2x2dWNnTFhBMFRzeVN6M2hqZU43cGVPeUVZQnRHUzdhT3N3bGlpVFFDSStWR052RS9RY090Y1o2TgpBd1FOU3VEYnlIMTBINU9yUWNrQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZLSWE3TDdPNUFFZmxhVGx4L3crY3R5TEhWQzFNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTGd2UllsM2JaSXVscnVtRmRtKwpiMG9wa2QzY2lCRjUzdUFrUDRMbUt4NURDdUREL3A5c3NRRHZHenlISVQ5S2x1QW9TUm1jbGdrRzFNcjFPWEpGCkhzV21ZUzN4MmdtaTM5ZTNIbEJkalVxMHp1RjZRemlOTjhiVGRocnIwcHJEaU5nazFQTnR4N1hXalE4ZVBrMWsKbk1IVUxtdVRaaC9ZZGZXeS9VY2cxNE1hVjZ2QkxQcGRHZGFsV0tOMlY0UjVFTEt0NzZsYlE1N21xRkE0dW1UbApsTFRsMWVzMk9ab1d3Qk93NUphWXhVRWJEcHU1UmZURjlHYzE5SzFNNGhuSjIwVXlTZTh3SE5mYXpQUmQyK3RYCnlaSDJJOVNENThpcVM0M2p6MG9LRWRvR0lnYWc2RVVySDU0ME90emtSRi8wMHYydVJiVXlHbi9ZZkJaa3NNTmIKRTF3PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
              }
            ],
            "created_at": "2022-11-25 06:13:33.969 +0000 UTC",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "encryption_config": [
              {
                "provider": [
                  {
                    "key_arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54"
                  }
                ],
                "resources": [
                  "secrets"
                ]
              }
            ],
            "endpoint": "https://02D487B94C5383CC603A95CD39B8731A.gr7.ap-southeast-2.eks.amazonaws.com",
            "id": "nokia-lab2",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.ap-southeast-2.amazonaws.com/id/02D487B94C5383CC603A95CD39B8731A"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "service_ipv4_cidr": "172.20.0.0/16"
              }
            ],
            "name": "nokia-lab2",
            "platform_version": "eks.9",
            "role_arn": "arn:aws:iam::126494010021:role/service_eks_cluster",
            "status": "ACTIVE",
            "tags": {},
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            },
            "timeouts": {
              "create": "30m",
              "delete": "15m",
              "update": null
            },
            "version": "1.22",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-04c1c31ff939cf2ce",
                "endpoint_private_access": true,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "13.236.1.93/32",
                  "131.228.104.64/27"
                ],
                "security_group_ids": [
                  "sg-0a02fb5edf125a05e"
                ],
                "subnet_ids": [
                  "subnet-044fbf983d742268d",
                  "subnet-09b0e817a862c09e0",
                  "subnet-0c8a88281586d5f59"
                ],
                "vpc_id": "vpc-00092b296f9cd5d08"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_kms_alias.cluster",
            "aws_security_group.cluster",
            "data.aws_iam_role.eks",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "edges",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "CUSTOM",
            "arn": "arn:aws:eks:ap-southeast-2:126494010021:nodegroup/nokia-lab2/nokia-lab2-edges_node_group/34c256bb-bafc-cf38-3bab-143f8cfb40a3",
            "capacity_type": "ON_DEMAND",
            "cluster_name": "nokia-lab2",
            "disk_size": 0,
            "force_update_version": null,
            "id": "nokia-lab2:nokia-lab2-edges_node_group",
            "instance_types": [],
            "labels": {
              "is_edge": "true"
            },
            "launch_template": [
              {
                "id": "lt-0daa8c9f1e7e90c0d",
                "name": "nokia-lab2-edges_launch_template20221125062637926300000002",
                "version": "1"
              }
            ],
            "node_group_name": "nokia-lab2-edges_node_group",
            "node_group_name_prefix": "",
            "node_role_arn": "arn:aws:iam::126494010021:role/service_ec2_eksnode",
            "release_version": "ami-040ec9839830d8c16",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-nokia-lab2-edges_node_group-34c256bb-bafc-cf38-3bab-143f8cfb40a3"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 3,
                "max_size": 3,
                "min_size": 3
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-044fbf983d742268d",
              "subnet-09b0e817a862c09e0",
              "subnet-0c8a88281586d5f59"
            ],
            "tags": {
              "Name": "nokia-lab2-edges_node_group",
              "Role": "edges"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-edges_node_group",
              "Role": "edges"
            },
            "taint": [
              {
                "effect": "NO_EXECUTE",
                "key": "is_edge",
                "value": "true"
              }
            ],
            "timeouts": null,
            "update_config": [
              {
                "max_unavailable": 1,
                "max_unavailable_percentage": 0
              }
            ],
            "version": "1.22"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eks_cluster.this",
            "aws_key_pair.cluster_key",
            "aws_kms_alias.cluster",
            "aws_launch_template.edges",
            "aws_security_group.cluster",
            "data.aws_ami.eks_worker",
            "data.aws_iam_role.eks",
            "data.aws_iam_role.nodes",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "data.template_file.aws_ssm_seelog",
            "data.template_file.edges_userdata"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "workers",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "CUSTOM",
            "arn": "arn:aws:eks:ap-southeast-2:126494010021:nodegroup/nokia-lab2/nokia-lab2-workers_node_group/a4c256bb-bb00-1998-5747-97524510e0db",
            "capacity_type": "ON_DEMAND",
            "cluster_name": "nokia-lab2",
            "disk_size": 0,
            "force_update_version": null,
            "id": "nokia-lab2:nokia-lab2-workers_node_group",
            "instance_types": [],
            "labels": {
              "is_control": "true",
              "is_worker": "true"
            },
            "launch_template": [
              {
                "id": "lt-0735f2e04eec61a57",
                "name": "nokia-lab2-workers_launch_template20221125062637926200000001",
                "version": "1"
              }
            ],
            "node_group_name": "nokia-lab2-workers_node_group",
            "node_group_name_prefix": "",
            "node_role_arn": "arn:aws:iam::126494010021:role/service_ec2_eksnode",
            "release_version": "ami-040ec9839830d8c16",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-nokia-lab2-workers_node_group-a4c256bb-bb00-1998-5747-97524510e0db"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 6,
                "max_size": 9,
                "min_size": 6
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-044fbf983d742268d",
              "subnet-09b0e817a862c09e0",
              "subnet-0c8a88281586d5f59"
            ],
            "tags": {
              "Name": "nokia-lab2-workers_node_group",
              "Role": "workers"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-workers_node_group",
              "Role": "workers"
            },
            "taint": [],
            "timeouts": null,
            "update_config": [
              {
                "max_unavailable": 1,
                "max_unavailable_percentage": 0
              }
            ],
            "version": "1.22"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eks_cluster.this",
            "aws_key_pair.cluster_key",
            "aws_kms_alias.cluster",
            "aws_launch_template.workers",
            "aws_security_group.cluster",
            "data.aws_ami.eks_worker",
            "data.aws_iam_role.eks",
            "data.aws_iam_role.nodes",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "data.template_file.aws_ssm_seelog",
            "data.template_file.workers_userdata"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:internet-gateway/igw-035b4a3b4a7951435",
            "id": "igw-035b4a3b4a7951435",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-igw"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-igw"
            },
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.this"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "cluster_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:key-pair/nokia-lab2-key",
            "fingerprint": "30:49:bd:b2:12:e4:4d:c7:5f:db:b5:8d:ff:2a:18:58",
            "id": "nokia-lab2-key",
            "key_name": "nokia-lab2-key",
            "key_name_prefix": "",
            "key_pair_id": "key-05edbac3e6ef92415",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCt1NvWD53wG2UB50n+rOgEwXbdj+gb8UcH40UVLceTFScgT87PSiV8e7rNFfmg6ed5ptLis6uautXAPIqxuYWNn2lUsNKouLdi0qxLhyBCWz5n9EGghEkXfBrFDmzCrM3dQeuHPyGw8+biMdP1Dc02frUn/7Aekcc/CYH8+QOAWvCnBGrFLCjTPWjqArly20mE6K9ckTv13lgbtzBLfth84g3/++dnb7nqyHyhYNIPtjEsxzdc97aIgrkdD2m8tImUWGgOxo8TvTPTIcNIDsHWG6KHJyK3VMQrGRNJZeyan+fZt9DSNgbw3vVozeNLrW1XIym3EdqqNFgEb9CdzqPqTv0+eLWQ/eURI+rbM8XLliDjrU8ruCJEzBl7iu0DNHTzjA9LArirLnRV019bnxUnLNXVk7kMykS5GVDenTqZCegNzHqqB0dIgJUc0EHoxkPJvIgpm2LOsLRQqr4B5hYQU4zzF47Bl06pq18CzYLONTbETOE5rK5ABafF5Y9t7ykOdQMWBxJx8+nLClXBeNCGix74zvFvcSS1rVeSuMclYYi6zggnVXWSupv7rry6sosAxuOQYxWNaby7nD3Yl/SDtJJhDaUP0NXgf15EAZyEs57AzJSddkzVXtcmimTuxjbvHx1W1ikHk2IdpS4zcZobRaV5+aE+hsVjRHZt2eFo6w==",
            "tags": {},
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-2:126494010021:alias/cluster-nokia-lab2",
            "id": "alias/cluster-nokia-lab2",
            "name": "alias/cluster-nokia-lab2",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "target_key_id": "365a9979-12cb-4f7b-afb1-2028f2d2af54"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_key.this",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.cluster"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "s3_artifacts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-2:126494010021:alias/s3-artifacts-nokia-lab2",
            "id": "alias/s3-artifacts-nokia-lab2",
            "name": "alias/s3-artifacts-nokia-lab2",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "target_key_id": "365a9979-12cb-4f7b-afb1-2028f2d2af54"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_key.this",
            "data.aws_caller_identity.current",
            "data.aws_iam_role.nodes",
            "data.aws_kms_key.s3_artifacts"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-2:126494010021:key/365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "bypass_policy_lockout_safety_check": false,
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": null,
            "description": "nokia-lab2 EKS Secret Encryption Key",
            "enable_key_rotation": true,
            "id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "is_enabled": true,
            "key_id": "365a9979-12cb-4f7b-afb1-2028f2d2af54",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":[\"arn:aws:iam::126494010021:root\",\"arn:aws:iam::126494010021:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling\",\"arn:aws:iam::126494010021:role/service_ec2_eksnode\"]},\"Resource\":\"*\",\"Sid\":\"Enable IAM Role Permissions\"}],\"Version\":\"2012-10-17\"}",
            "tags": {},
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.aws_iam_role.nodes"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "edges",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:launch-template/lt-0daa8c9f1e7e90c0d",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "iops": 0,
                    "kms_key_id": "arn:aws:kms:ap-southeast-2:126494010021:alias/cluster-nokia-lab2",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 50,
                    "volume_type": "gp2"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdf",
                "ebs": [
                  {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "iops": 0,
                    "kms_key_id": "arn:aws:kms:ap-southeast-2:126494010021:alias/cluster-nokia-lab2",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 50,
                    "volume_type": "gp2"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "default_version": 1,
            "description": "",
            "disable_api_termination": false,
            "ebs_optimized": "true",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [],
            "id": "lt-0daa8c9f1e7e90c0d",
            "image_id": "ami-040ec9839830d8c16",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [],
            "instance_type": "m5a.2xlarge",
            "kernel_id": "",
            "key_name": "nokia-lab2-key",
            "latest_version": 1,
            "license_specification": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": [
              {
                "enabled": true
              }
            ],
            "name": "nokia-lab2-edges_launch_template20221125062637926300000002",
            "name_prefix": "nokia-lab2-edges_launch_template",
            "network_interfaces": [
              {
                "associate_carrier_ip_address": "",
                "associate_public_ip_address": "false",
                "delete_on_termination": "true",
                "description": "",
                "device_index": 0,
                "interface_type": "",
                "ipv4_address_count": 0,
                "ipv4_addresses": null,
                "ipv6_address_count": 0,
                "ipv6_addresses": null,
                "network_card_index": 0,
                "network_interface_id": "",
                "private_ip_address": "",
                "security_groups": [
                  "sg-0a02fb5edf125a05e"
                ],
                "subnet_id": ""
              }
            ],
            "placement": [
              {
                "affinity": "",
                "availability_zone": "",
                "group_name": "",
                "host_id": "",
                "host_resource_group_arn": "",
                "partition_number": 0,
                "spread_domain": "",
                "tenancy": "default"
              }
            ],
            "ram_disk_id": "",
            "security_group_names": null,
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "ClusterRegion": "nokia-lab2-ap-southeast-2",
                  "Component": "EKS cluster",
                  "DeployerTool": "CsfpOps",
                  "KubernetesCluster": "nokia-lab2",
                  "Name": "nokia-lab2_eks-edges-node"
                }
              },
              {
                "resource_type": "instance",
                "tags": {
                  "ClusterRegion": "nokia-lab2-ap-southeast-2",
                  "Component": "EKS cluster",
                  "DeployerTool": "CsfpOps",
                  "KubernetesCluster": "nokia-lab2",
                  "Name": "nokia-lab2_eks-edges-node",
                  "k8s.io/cluster-autoscaler/enabled": "false",
                  "k8s.io/cluster-autoscaler/nokia-lab2": "owned",
                  "role": "['edges']"
                }
              }
            ],
            "tags": null,
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            },
            "update_default_version": null,
            "user_data": "TUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSIvLyIKCi0tLy8KQ29udGVudC1UeXBlOiB0ZXh0L2Nsb3VkLWNvbmZpZzsgY2hhcnNldD0idXMtYXNjaWkiCk1JTUUtVmVyc2lvbjogMS4wCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDdiaXQKQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9ImNsb3VkLWNvbmZpZy50eHQiCgojY2xvdWQtY29uZmlnCmNsb3VkX2ZpbmFsX21vZHVsZXM6Ci0gW3NjcmlwdHMtdXNlciwgYWx3YXlzXQoKLS0vLwpDb250ZW50LVR5cGU6IHRleHQveC1zaGVsbHNjcmlwdDsgY2hhcnNldD0idXMtYXNjaWkiCiMhL2Jpbi9iYXNoIC14ZQoKZXhlYyA+ID4odGVlIC92YXIvbG9nL3VzZXItZGF0YS5sb2d8bG9nZ2VyIC10IHVzZXItZGF0YSAtcyAyPi9kZXYvY29uc29sZSkgMj4mMQoKW1sgLWYgL2V0Yy8uZmlyc3Rib290X2RvbmUgXV0gfHwgewoKIyMgSW5zdGFsbCByZXF1aXJlbWVudHMKcnBtIC1xYSB8IGdyZXAgcGFydGVkIHx8IHl1bSBpbnN0YWxsIC15IHBhcnRlZApycG0gLXFhIHwgZ3JlcCByc3luYyB8fCB5dW0gaW5zdGFsbCAteSByc3luYwoKIyMgSW5zdGFsbCBBbWF6b24gU1NNIEFnZW50CnJwbSAtcWEgfCBncmVwIGFtYXpvbi1zc20tYWdlbnQgfHwgeXVtIGluc3RhbGwgLXkgaHR0cHM6Ly9zMy5hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tL2FtYXpvbi1zc20tYXAtc291dGhlYXN0LTIvbGF0ZXN0L2xpbnV4X2FtZDY0L2FtYXpvbi1zc20tYWdlbnQucnBtCnN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudApjYXQgPDwgRU9GID4+IC9ldGMvYW1hem9uL3NzbS9zZWVsb2cueG1sCjwhLS1hbWF6b24tc3NtLWFnZW50IHVzZXMgc2VlbG9nIGxvZ2dpbmcgLS0+CjwhLS1TZWVsb2cgaGFzIGdpdGh1YiB3aWtpIHBhZ2VzLCB3aGljaCBjb250YWluIGRldGFpbGVkIGhvdy10b3MgcmVmZXJlbmNlczogaHR0cHM6Ly9naXRodWIuY29tL2NpaHViL3NlZWxvZy93aWtpIC0tPgo8IS0tU2VlbG9nIGV4YW1wbGVzIGNhbiBiZSBmb3VuZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vY2lodWIvc2VlbG9nLWV4YW1wbGVzIC0tPgo8c2VlbG9nIHR5cGU9ImFkYXB0aXZlIiBtaW5pbnRlcnZhbD0iMjAwMDAwMCIgbWF4aW50ZXJ2YWw9IjEwMDAwMDAwMCIgY3JpdG1zZ2NvdW50PSI1MDAiIG1pbmxldmVsPSJpbmZvIj4KICAgIDxleGNlcHRpb25zPgogICAgICAgIDxleGNlcHRpb24gZmlsZXBhdHRlcm49InRlc3QqIiBtaW5sZXZlbD0iZXJyb3IiLz4KICAgIDwvZXhjZXB0aW9ucz4KICAgIDxvdXRwdXRzIGZvcm1hdGlkPSJmbXRpbmZvIj4KICAgICAgICA8Y29uc29sZSBmb3JtYXRpZD0iZm10aW5mbyIvPgogICAgICAgIDxyb2xsaW5nZmlsZSB0eXBlPSJzaXplIiBmaWxlbmFtZT0iL3Zhci9sb2cvYW1hem9uL3NzbS9hbWF6b24tc3NtLWFnZW50LmxvZyIgbWF4c2l6ZT0iMzAwMDAwMDAiIG1heHJvbGxzPSI1Ii8+CiAgICAgICAgPGZpbHRlciBsZXZlbHM9ImVycm9yLGNyaXRpY2FsIiBmb3JtYXRpZD0iZm10ZXJyb3IiPgogICAgICAgICAgICA8cm9sbGluZ2ZpbGUgdHlwZT0ic2l6ZSIgZmlsZW5hbWU9Ii92YXIvbG9nL2FtYXpvbi9zc20vZXJyb3JzLmxvZyIgbWF4c2l6ZT0iMTAwMDAwMDAiIG1heHJvbGxzPSI1Ii8+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPGN1c3RvbSBuYW1lPSJjbG91ZHdhdGNoX3JlY2VpdmVyIiBmb3JtYXRpZD0iZm10ZGVidWciIGRhdGEtbG9nLWdyb3VwPSIvYXdzL2Vrcy9ub2tpYS1sYWIyL2NsdXN0ZXIiLz4KICAgIDwvb3V0cHV0cz4KICAgIDxmb3JtYXRzPgogICAgICAgIDxmb3JtYXQgaWQ9ImZtdGVycm9yIiBmb3JtYXQ9IiVEYXRlICVUaW1lICVMRVZFTCBbJUZ1bmNTaG9ydCBAICVGaWxlLiVMaW5lXSAlTXNnJW4iLz4KICAgICAgICA8Zm9ybWF0IGlkPSJmbXRkZWJ1ZyIgZm9ybWF0PSIlRGF0ZSAlVGltZSAlTEVWRUwgWyVGdW5jU2hvcnQgQCAlRmlsZS4lTGluZV0gJU1zZyVuIi8+CiAgICAgICAgPGZvcm1hdCBpZD0iZm10aW5mbyIgZm9ybWF0PSIlRGF0ZSAlVGltZSAlTEVWRUwgJU1zZyVuIi8+CiAgICA8L2Zvcm1hdHM+Cjwvc2VlbG9nPgpFT0YKc3lzdGVtY3RsIHJlc3RhcnQgYW1hem9uLXNzbS1hZ2VudAoKIyMgUGFydGl0aW9uaW5nCnBhcnRlZCAtLXNjcmlwdCAvZGV2L252bWUxbjEgXApta2xhYmVsIGdwdCBcCm1rcGFydCBsb2cgZXh0NCAwJSAxMDAlCnBhcnRwcm9iZQoKIyMgRm9ybWF0IG5ldyBwYXJ0aXRpb24KbWtmcy5leHQ0IC9kZXYvbnZtZTFuMXAxCgojIyBBdXRvbWF0aWMgbW91bnQKY2F0IDw8IEVPRiA+PiAvZXRjL2ZzdGFiCnRtcGZzICAgL3RtcCAgICAgICAgICAgIHRtcGZzICAgICBkZWZhdWx0cyxzaXplPTFnLG1vZGU9MTc3Nyxub2Rldixub2V4ZWMsbm9zdWlkICAwICAgICAgIDAKL3RtcCAgICAvdmFyL3RtcCAgICAgICAgbm9uZSAgICAgIHJ3LG5vZGV2LG5vZXhlYyxub3N1aWQsYmluZCAgICAgMCAgICAgICAwCnRtcGZzICAgL2Rldi9zaG0gICAgICAgIHRtcGZzICAgICBub2V4ZWMsbm9zdWlkLG5vZGV2ICAgIDAgICAgICAgMApFT0YKCiMgL3Zhci9sb2cKZWNobyAiJChibGtpZCB8IGdyZXAgbnZtZTFuMXAxIHwgYXdrICd7cHJpbnQgJDJ9JykgL3Zhci9sb2cgZXh0NCBkZWZhdWx0cyxub2ZhaWwgMCAyIiA+PiAvZXRjL2ZzdGFiCm1rZGlyIC1wIC90bXAvbG9nCm1vdW50IC9kZXYvbnZtZTFuMXAxIC90bXAvbG9nCnJzeW5jIC1hdiAvdmFyL2xvZy8gL3RtcC9sb2cKdW1vdW50IC90bXAvbG9nCm1vdW50IC9kZXYvbnZtZTFuMXAxIC92YXIvbG9nCmNobW9kIC1SIDc3NyAvdmFyL2xvZwoKIyBSZWxvYWQgZnN0YWIKbW91bnQgLWEKCmt1YmVsZXRfc2VydmljZT0iL2V0Yy9zeXN0ZW1kL3N5c3RlbS9rdWJlbGV0LnNlcnZpY2UiCgoKIyBEb2NrZXIgb3B0aW9ucyBzZXQgc3lzY29uZmlnIGVudmlyb25tZW50IGZpbGUKY2F0IDw8IEVPRiA+PiAvZXRjL3N5c2NvbmZpZy9kb2NrZXIKCk9QVElPTlM9Jy0tc2VsaW51eC1lbmFibGVkPXRydWUgLS1leGVjLW9wdD1uYXRpdmUuY2dyb3VwZHJpdmVyPXN5c3RlbWQgLS1zdG9yYWdlLW9wdCBvdmVybGF5Mi5vdmVycmlkZV9rZXJuZWxfY2hlY2s9dHJ1ZSAtLXVzZXJsYW5kLXByb3h5PWZhbHNlJwpFT0YKc3lzdGVtY3RsIHJlc3RhcnQgZG9ja2VyCgoKIyBBbGxvdyB1c2VyIHN1cHBsaWVkIHByZSB1c2VyZGF0YSBjb2RlCgoKIyBTeXN0ZW1kIGRvZXMgbm90IHN1cHBvcnQgYXBwZW5kaW5nIGVudmlyb25tZW50IHZhcmlhYmxlcy4gQWRkIGEgbmV3IHZhcmlhYmxlCnNlZCAtaSAncy9LVUJFTEVUX0VYVFJBX0FSR1MvS1VCRUxFVF9FWFRSQV9BUkdTICRFWFRFTkRFRF9LVUJFTEVUX0FSR1MvJyAka3ViZWxldF9zZXJ2aWNlCmNhdCA8PCBFT0YgPiAvZXRjL3N5c3RlbWQvc3lzdGVtL2t1YmVsZXQuc2VydmljZS5kLzk5OTktZXh0ZW5kZWQta3ViZWxldC1hcmdzLmNvbmYKW1NlcnZpY2VdCkVudmlyb25tZW50PSdFWFRFTkRFRF9LVUJFTEVUX0FSR1M9LS1jZ3JvdXAtZHJpdmVyPXN5c3RlbWQnCkVPRgpzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZAoKIyBBbGxvdyB1c2VyIHN1cHBsaWVkIHVzZXJkYXRhIGNvZGUKCgoKIyBQb2ludCByZXNvbHYuY29uZiB0byBOb2RlTG9jYWwgRE5TCmVjaG8gInN1cGVyc2VkZSBkb21haW4tbmFtZS1zZXJ2ZXJzIDEyNy4wLjAuMSwxNjkuMjU0LjE2OS4yNTM7IiA+PiAvZXRjL2RoY3AvZGhjbGllbnQuY29uZiAmJiBkaGNsaWVudCAtciAmJiBkaGNsaWVudAojIFdlIGFsd2F5cyB1c2UgaW1hZ2UtaWQgaW4gbGF1bmNoLXRlbXBsYXRlIHdoaWNoIG1lYW5zIGl0IGlzIGNvbnNpZGVyZWQgYXMgY3VzdG9tIEFNSQpCNjRfQ0xVU1RFUl9DQT1MUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VNdmFrTkRRV1ZoWjBGM1NVSkJaMGxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlJFRldUVkpOZDBWUldVUldVVkZFUlhkd2NtUlhTbXdLWTIwMWJHUkhWbnBOUWpSWVJGUkplVTFVUlhsT1ZFRXlUVlJyTVU1V2IxaEVWRTE1VFZSRmVVMXFRVEpOVkdzeFRsWnZkMFpVUlZSTlFrVkhRVEZWUlFwQmVFMUxZVE5XYVZwWVNuVmFXRkpzWTNwRFEwRlRTWGRFVVZsS1MyOWFTV2gyWTA1QlVVVkNRbEZCUkdkblJWQkJSRU5EUVZGdlEyZG5SVUpCVG1zdkNtNTNWME14U1RGWGFHNXFaRmxwTlhSdFVFWk5RamRXV21ZMGNHazFVamt6VVhZeVdURmtkMVJQWnlzMFdEQkpRV1ZVWlVaVVExUTVMMmxCVVV4UFFtd0tWVzB2ZEM5UGNVdFBlRlJ2ZVRWM09Vb3lWamxqZERaWGEwZHZUR1JVYWtaQmJrZElWazVYVVdSSlNDc3JaekpxV0c5U2EyZENZMnB2UjNsUVdIUlhkd294Tm01cFJUQXJSamQ0V1dZeU0weE5ZWHBSZDJKcGNuQjFhVVZqVHpselJpOVFha1o1Wlc0cmJHaFhaMUZuWkdvMVUzRndTM1YzYjFKV2FVaENOMlZsQ2sxdlNDdFJVV0lyVHpNeVl5dHNWMnc0VW5ZNGIxZ3ZWMmhMUkhaV2RsaFJUbTlNUldwaWVGbHdTa0pGUnk5U1JFMUxjbTA0ZUhWTlYwaHVSWE53WVdrS1ZHaEdhVFpPYTJ4MmRXTm5URmhCTUZSemVWTjZNMmhxWlU0M2NHVlBlVVZaUW5SSFV6ZGhUM04zYkdscFZGRkRTU3RXUjA1MlJTOVJZMDkwWTFvMlRncEJkMUZPVTNWRVlubElNVEJJTlU5eVVXTnJRMEYzUlVGQllVNWFUVVpqZDBSbldVUldVakJRUVZGSUwwSkJVVVJCWjB0clRVRTRSMEV4VldSRmQwVkNDaTkzVVVaTlFVMUNRV1k0ZDBoUldVUldVakJQUWtKWlJVWkxTV0UzVERkUE5VRkZabXhoVkd4NEwzY3JZM1I1VEVoV1F6Rk5RbFZIUVRGVlpFVlJVVThLVFVGNVEwTnRkREZaYlZaNVltMVdNRnBZVFhkRVVWbEtTMjlhU1doMlkwNUJVVVZNUWxGQlJHZG5SVUpCVEdkMlVsbHNNMkphU1hWc2NuVnRSbVJ0S3dwaU1HOXdhMlF6WTJsQ1JqVXpkVUZyVURSTWJVdDROVVJEZFVSRUwzQTVjM05SUkhaSGVubElTVlE1UzJ4MVFXOVRVbTFqYkdkclJ6Rk5jakZQV0VwR0NraHpWMjFaVXpONE1tZHRhVE01WlROSWJFSmthbFZ4TUhwMVJqWlJlbWxPVGpoaVZHUm9jbkl3Y0hKRWFVNW5hekZRVG5SNE4xaFhhbEU0WlZCck1Xc0tiazFJVlV4dGRWUmFhQzlaWkdaWGVTOVZZMmN4TkUxaFZqWjJRa3hRY0dSSFpHRnNWMHRPTWxZMFVqVkZURXQwTnpac1lsRTFOMjF4UmtFMGRXMVViQXBzVEZSc01XVnpNazlhYjFkM1FrOTNOVXBoV1hoVlJXSkVjSFUxVW1aVVJqbEhZekU1U3pGTk5HaHVTakl3VlhsVFpUaDNTRTVtWVhwUVVtUXlLM1JZQ25sYVNESkpPVk5FTlRocGNWTTBNMnA2TUc5TFJXUnZSMGxuWVdjMlJWVnlTRFUwTUU5MGVtdFNSaTh3TUhZeWRWSmlWWGxIYmk5WlprSmFhM05OVG1JS1JURjNQUW90TFMwdExVVk9SQ0JEUlZKVVNVWkpRMEZVUlMwdExTMHRDZz09CkFQSV9TRVJWRVJfVVJMPWh0dHBzOi8vMDJENDg3Qjk0QzUzODNDQzYwM0E5NUNEMzlCODczMUEuZ3I3LmFwLXNvdXRoZWFzdC0yLmVrcy5hbWF6b25hd3MuY29tCi9ldGMvZWtzL2Jvb3RzdHJhcC5zaCBub2tpYS1sYWIyIC0tYjY0LWNsdXN0ZXItY2EgJEI2NF9DTFVTVEVSX0NBIC0tYXBpc2VydmVyLWVuZHBvaW50ICRBUElfU0VSVkVSX1VSTCAtLWNvbnRhaW5lci1ydW50aW1lIGRvY2tlcmQKCnRvdWNoIC9ldGMvLmZpcnN0Ym9vdF9kb25lCn0KCgoK",
            "vpc_security_group_ids": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.this",
            "aws_key_pair.cluster_key",
            "aws_kms_alias.cluster",
            "aws_security_group.cluster",
            "data.aws_ami.eks_worker",
            "data.aws_iam_role.eks",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "data.template_file.aws_ssm_seelog",
            "data.template_file.edges_userdata"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "workers",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:launch-template/lt-0735f2e04eec61a57",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "iops": 0,
                    "kms_key_id": "arn:aws:kms:ap-southeast-2:126494010021:alias/cluster-nokia-lab2",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 50,
                    "volume_type": "gp2"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              },
              {
                "device_name": "/dev/sdf",
                "ebs": [
                  {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "iops": 0,
                    "kms_key_id": "arn:aws:kms:ap-southeast-2:126494010021:alias/cluster-nokia-lab2",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 100,
                    "volume_type": "gp2"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "default_version": 1,
            "description": "",
            "disable_api_termination": false,
            "ebs_optimized": "true",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [],
            "id": "lt-0735f2e04eec61a57",
            "image_id": "ami-040ec9839830d8c16",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [],
            "instance_type": "m5a.4xlarge",
            "kernel_id": "",
            "key_name": "nokia-lab2-key",
            "latest_version": 1,
            "license_specification": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_protocol_ipv6": "disabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional"
              }
            ],
            "monitoring": [
              {
                "enabled": true
              }
            ],
            "name": "nokia-lab2-workers_launch_template20221125062637926200000001",
            "name_prefix": "nokia-lab2-workers_launch_template",
            "network_interfaces": [
              {
                "associate_carrier_ip_address": "",
                "associate_public_ip_address": "false",
                "delete_on_termination": "true",
                "description": "",
                "device_index": 0,
                "interface_type": "",
                "ipv4_address_count": 0,
                "ipv4_addresses": null,
                "ipv6_address_count": 0,
                "ipv6_addresses": null,
                "network_card_index": 0,
                "network_interface_id": "",
                "private_ip_address": "",
                "security_groups": [
                  "sg-0a02fb5edf125a05e"
                ],
                "subnet_id": ""
              }
            ],
            "placement": [
              {
                "affinity": "",
                "availability_zone": "",
                "group_name": "",
                "host_id": "",
                "host_resource_group_arn": "",
                "partition_number": 0,
                "spread_domain": "",
                "tenancy": "default"
              }
            ],
            "ram_disk_id": "",
            "security_group_names": null,
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "ClusterRegion": "nokia-lab2-ap-southeast-2",
                  "Component": "EKS cluster",
                  "DeployerTool": "CsfpOps",
                  "KubernetesCluster": "nokia-lab2",
                  "Name": "nokia-lab2_eks-workers-node"
                }
              },
              {
                "resource_type": "instance",
                "tags": {
                  "ClusterRegion": "nokia-lab2-ap-southeast-2",
                  "Component": "EKS cluster",
                  "DeployerTool": "CsfpOps",
                  "KubernetesCluster": "nokia-lab2",
                  "Name": "nokia-lab2_eks-workers-node",
                  "k8s.io/cluster-autoscaler/enabled": "false",
                  "k8s.io/cluster-autoscaler/nokia-lab2": "owned",
                  "role": "['workers']"
                }
              }
            ],
            "tags": null,
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2"
            },
            "update_default_version": null,
            "user_data": "TUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSIvLyIKCi0tLy8KQ29udGVudC1UeXBlOiB0ZXh0L2Nsb3VkLWNvbmZpZzsgY2hhcnNldD0idXMtYXNjaWkiCk1JTUUtVmVyc2lvbjogMS4wCkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDdiaXQKQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9ImNsb3VkLWNvbmZpZy50eHQiCgojY2xvdWQtY29uZmlnCmNsb3VkX2ZpbmFsX21vZHVsZXM6Ci0gW3NjcmlwdHMtdXNlciwgYWx3YXlzXQoKLS0vLwpDb250ZW50LVR5cGU6IHRleHQveC1zaGVsbHNjcmlwdDsgY2hhcnNldD0idXMtYXNjaWkiCiMhL2Jpbi9iYXNoIC14ZQoKZXhlYyA+ID4odGVlIC92YXIvbG9nL3VzZXItZGF0YS5sb2d8bG9nZ2VyIC10IHVzZXItZGF0YSAtcyAyPi9kZXYvY29uc29sZSkgMj4mMQoKW1sgLWYgL2V0Yy8uZmlyc3Rib290X2RvbmUgXV0gfHwgewoKIyMgSW5zdGFsbCByZXF1aXJlbWVudHMKcnBtIC1xYSB8IGdyZXAgcGFydGVkIHx8IHl1bSBpbnN0YWxsIC15IHBhcnRlZApycG0gLXFhIHwgZ3JlcCByc3luYyB8fCB5dW0gaW5zdGFsbCAteSByc3luYwoKIyMgSW5zdGFsbCBBbWF6b24gU1NNIEFnZW50CnJwbSAtcWEgfCBncmVwIGFtYXpvbi1zc20tYWdlbnQgfHwgeXVtIGluc3RhbGwgLXkgaHR0cHM6Ly9zMy5hcC1zb3V0aGVhc3QtMi5hbWF6b25hd3MuY29tL2FtYXpvbi1zc20tYXAtc291dGhlYXN0LTIvbGF0ZXN0L2xpbnV4X2FtZDY0L2FtYXpvbi1zc20tYWdlbnQucnBtCnN5c3RlbWN0bCBlbmFibGUgYW1hem9uLXNzbS1hZ2VudApjYXQgPDwgRU9GID4+IC9ldGMvYW1hem9uL3NzbS9zZWVsb2cueG1sCjwhLS1hbWF6b24tc3NtLWFnZW50IHVzZXMgc2VlbG9nIGxvZ2dpbmcgLS0+CjwhLS1TZWVsb2cgaGFzIGdpdGh1YiB3aWtpIHBhZ2VzLCB3aGljaCBjb250YWluIGRldGFpbGVkIGhvdy10b3MgcmVmZXJlbmNlczogaHR0cHM6Ly9naXRodWIuY29tL2NpaHViL3NlZWxvZy93aWtpIC0tPgo8IS0tU2VlbG9nIGV4YW1wbGVzIGNhbiBiZSBmb3VuZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vY2lodWIvc2VlbG9nLWV4YW1wbGVzIC0tPgo8c2VlbG9nIHR5cGU9ImFkYXB0aXZlIiBtaW5pbnRlcnZhbD0iMjAwMDAwMCIgbWF4aW50ZXJ2YWw9IjEwMDAwMDAwMCIgY3JpdG1zZ2NvdW50PSI1MDAiIG1pbmxldmVsPSJpbmZvIj4KICAgIDxleGNlcHRpb25zPgogICAgICAgIDxleGNlcHRpb24gZmlsZXBhdHRlcm49InRlc3QqIiBtaW5sZXZlbD0iZXJyb3IiLz4KICAgIDwvZXhjZXB0aW9ucz4KICAgIDxvdXRwdXRzIGZvcm1hdGlkPSJmbXRpbmZvIj4KICAgICAgICA8Y29uc29sZSBmb3JtYXRpZD0iZm10aW5mbyIvPgogICAgICAgIDxyb2xsaW5nZmlsZSB0eXBlPSJzaXplIiBmaWxlbmFtZT0iL3Zhci9sb2cvYW1hem9uL3NzbS9hbWF6b24tc3NtLWFnZW50LmxvZyIgbWF4c2l6ZT0iMzAwMDAwMDAiIG1heHJvbGxzPSI1Ii8+CiAgICAgICAgPGZpbHRlciBsZXZlbHM9ImVycm9yLGNyaXRpY2FsIiBmb3JtYXRpZD0iZm10ZXJyb3IiPgogICAgICAgICAgICA8cm9sbGluZ2ZpbGUgdHlwZT0ic2l6ZSIgZmlsZW5hbWU9Ii92YXIvbG9nL2FtYXpvbi9zc20vZXJyb3JzLmxvZyIgbWF4c2l6ZT0iMTAwMDAwMDAiIG1heHJvbGxzPSI1Ii8+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgICAgPGN1c3RvbSBuYW1lPSJjbG91ZHdhdGNoX3JlY2VpdmVyIiBmb3JtYXRpZD0iZm10ZGVidWciIGRhdGEtbG9nLWdyb3VwPSIvYXdzL2Vrcy9ub2tpYS1sYWIyL2NsdXN0ZXIiLz4KICAgIDwvb3V0cHV0cz4KICAgIDxmb3JtYXRzPgogICAgICAgIDxmb3JtYXQgaWQ9ImZtdGVycm9yIiBmb3JtYXQ9IiVEYXRlICVUaW1lICVMRVZFTCBbJUZ1bmNTaG9ydCBAICVGaWxlLiVMaW5lXSAlTXNnJW4iLz4KICAgICAgICA8Zm9ybWF0IGlkPSJmbXRkZWJ1ZyIgZm9ybWF0PSIlRGF0ZSAlVGltZSAlTEVWRUwgWyVGdW5jU2hvcnQgQCAlRmlsZS4lTGluZV0gJU1zZyVuIi8+CiAgICAgICAgPGZvcm1hdCBpZD0iZm10aW5mbyIgZm9ybWF0PSIlRGF0ZSAlVGltZSAlTEVWRUwgJU1zZyVuIi8+CiAgICA8L2Zvcm1hdHM+Cjwvc2VlbG9nPgpFT0YKc3lzdGVtY3RsIHJlc3RhcnQgYW1hem9uLXNzbS1hZ2VudAoKIyMgUGFydGl0aW9uaW5nCnBhcnRlZCAtLXNjcmlwdCAvZGV2L252bWUxbjEgXApta2xhYmVsIGdwdCBcCm1rcGFydCBsb2cgZXh0NCAwJSAxMDAlCnBhcnRwcm9iZQoKIyMgRm9ybWF0IG5ldyBwYXJ0aXRpb24KbWtmcy5leHQ0IC9kZXYvbnZtZTFuMXAxCgojIyBBdXRvbWF0aWMgbW91bnQKY2F0IDw8IEVPRiA+PiAvZXRjL2ZzdGFiCnRtcGZzICAgL3RtcCAgICAgICAgICAgIHRtcGZzICAgICBkZWZhdWx0cyxzaXplPTFnLG1vZGU9MTc3Nyxub2Rldixub2V4ZWMsbm9zdWlkICAwICAgICAgIDAKL3RtcCAgICAvdmFyL3RtcCAgICAgICAgbm9uZSAgICAgIHJ3LG5vZGV2LG5vZXhlYyxub3N1aWQsYmluZCAgICAgMCAgICAgICAwCnRtcGZzICAgL2Rldi9zaG0gICAgICAgIHRtcGZzICAgICBub2V4ZWMsbm9zdWlkLG5vZGV2ICAgIDAgICAgICAgMApFT0YKCiMgL3Zhci9sb2cKZWNobyAiJChibGtpZCB8IGdyZXAgbnZtZTFuMXAxIHwgYXdrICd7cHJpbnQgJDJ9JykgL3Zhci9sb2cgZXh0NCBkZWZhdWx0cyxub2ZhaWwgMCAyIiA+PiAvZXRjL2ZzdGFiCm1rZGlyIC1wIC90bXAvbG9nCm1vdW50IC9kZXYvbnZtZTFuMXAxIC90bXAvbG9nCnJzeW5jIC1hdiAvdmFyL2xvZy8gL3RtcC9sb2cKdW1vdW50IC90bXAvbG9nCm1vdW50IC9kZXYvbnZtZTFuMXAxIC92YXIvbG9nCmNobW9kIC1SIDc3NyAvdmFyL2xvZwoKIyBSZWxvYWQgZnN0YWIKbW91bnQgLWEKCmt1YmVsZXRfc2VydmljZT0iL2V0Yy9zeXN0ZW1kL3N5c3RlbS9rdWJlbGV0LnNlcnZpY2UiCgoKIyBEb2NrZXIgb3B0aW9ucyBzZXQgc3lzY29uZmlnIGVudmlyb25tZW50IGZpbGUKY2F0IDw8IEVPRiA+PiAvZXRjL3N5c2NvbmZpZy9kb2NrZXIKCk9QVElPTlM9Jy0tc2VsaW51eC1lbmFibGVkPXRydWUgLS1leGVjLW9wdD1uYXRpdmUuY2dyb3VwZHJpdmVyPXN5c3RlbWQgLS1zdG9yYWdlLW9wdCBvdmVybGF5Mi5vdmVycmlkZV9rZXJuZWxfY2hlY2s9dHJ1ZSAtLXVzZXJsYW5kLXByb3h5PWZhbHNlJwpFT0YKc3lzdGVtY3RsIHJlc3RhcnQgZG9ja2VyCgoKIyBBbGxvdyB1c2VyIHN1cHBsaWVkIHByZSB1c2VyZGF0YSBjb2RlCgoKIyBTeXN0ZW1kIGRvZXMgbm90IHN1cHBvcnQgYXBwZW5kaW5nIGVudmlyb25tZW50IHZhcmlhYmxlcy4gQWRkIGEgbmV3IHZhcmlhYmxlCnNlZCAtaSAncy9LVUJFTEVUX0VYVFJBX0FSR1MvS1VCRUxFVF9FWFRSQV9BUkdTICRFWFRFTkRFRF9LVUJFTEVUX0FSR1MvJyAka3ViZWxldF9zZXJ2aWNlCmNhdCA8PCBFT0YgPiAvZXRjL3N5c3RlbWQvc3lzdGVtL2t1YmVsZXQuc2VydmljZS5kLzk5OTktZXh0ZW5kZWQta3ViZWxldC1hcmdzLmNvbmYKW1NlcnZpY2VdCkVudmlyb25tZW50PSdFWFRFTkRFRF9LVUJFTEVUX0FSR1M9LS1jZ3JvdXAtZHJpdmVyPXN5c3RlbWQnCkVPRgpzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZAoKIyBBbGxvdyB1c2VyIHN1cHBsaWVkIHVzZXJkYXRhIGNvZGUKCgoKIyBQb2ludCByZXNvbHYuY29uZiB0byBOb2RlTG9jYWwgRE5TCmVjaG8gInN1cGVyc2VkZSBkb21haW4tbmFtZS1zZXJ2ZXJzIDEyNy4wLjAuMSwxNjkuMjU0LjE2OS4yNTM7IiA+PiAvZXRjL2RoY3AvZGhjbGllbnQuY29uZiAmJiBkaGNsaWVudCAtciAmJiBkaGNsaWVudAojIFdlIGFsd2F5cyB1c2UgaW1hZ2UtaWQgaW4gbGF1bmNoLXRlbXBsYXRlIHdoaWNoIG1lYW5zIGl0IGlzIGNvbnNpZGVyZWQgYXMgY3VzdG9tIEFNSQpCNjRfQ0xVU1RFUl9DQT1MUzB0TFMxQ1JVZEpUaUJEUlZKVVNVWkpRMEZVUlMwdExTMHRDazFKU1VNdmFrTkRRV1ZoWjBGM1NVSkJaMGxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSYzBaQlJFRldUVkpOZDBWUldVUldVVkZFUlhkd2NtUlhTbXdLWTIwMWJHUkhWbnBOUWpSWVJGUkplVTFVUlhsT1ZFRXlUVlJyTVU1V2IxaEVWRTE1VFZSRmVVMXFRVEpOVkdzeFRsWnZkMFpVUlZSTlFrVkhRVEZWUlFwQmVFMUxZVE5XYVZwWVNuVmFXRkpzWTNwRFEwRlRTWGRFVVZsS1MyOWFTV2gyWTA1QlVVVkNRbEZCUkdkblJWQkJSRU5EUVZGdlEyZG5SVUpCVG1zdkNtNTNWME14U1RGWGFHNXFaRmxwTlhSdFVFWk5RamRXV21ZMGNHazFVamt6VVhZeVdURmtkMVJQWnlzMFdEQkpRV1ZVWlVaVVExUTVMMmxCVVV4UFFtd0tWVzB2ZEM5UGNVdFBlRlJ2ZVRWM09Vb3lWamxqZERaWGEwZHZUR1JVYWtaQmJrZElWazVYVVdSSlNDc3JaekpxV0c5U2EyZENZMnB2UjNsUVdIUlhkd294Tm01cFJUQXJSamQ0V1dZeU0weE5ZWHBSZDJKcGNuQjFhVVZqVHpselJpOVFha1o1Wlc0cmJHaFhaMUZuWkdvMVUzRndTM1YzYjFKV2FVaENOMlZsQ2sxdlNDdFJVV0lyVHpNeVl5dHNWMnc0VW5ZNGIxZ3ZWMmhMUkhaV2RsaFJUbTlNUldwaWVGbHdTa0pGUnk5U1JFMUxjbTA0ZUhWTlYwaHVSWE53WVdrS1ZHaEdhVFpPYTJ4MmRXTm5URmhCTUZSemVWTjZNMmhxWlU0M2NHVlBlVVZaUW5SSFV6ZGhUM04zYkdscFZGRkRTU3RXUjA1MlJTOVJZMDkwWTFvMlRncEJkMUZPVTNWRVlubElNVEJJTlU5eVVXTnJRMEYzUlVGQllVNWFUVVpqZDBSbldVUldVakJRUVZGSUwwSkJVVVJCWjB0clRVRTRSMEV4VldSRmQwVkNDaTkzVVVaTlFVMUNRV1k0ZDBoUldVUldVakJQUWtKWlJVWkxTV0UzVERkUE5VRkZabXhoVkd4NEwzY3JZM1I1VEVoV1F6Rk5RbFZIUVRGVlpFVlJVVThLVFVGNVEwTnRkREZaYlZaNVltMVdNRnBZVFhkRVVWbEtTMjlhU1doMlkwNUJVVVZNUWxGQlJHZG5SVUpCVEdkMlVsbHNNMkphU1hWc2NuVnRSbVJ0S3dwaU1HOXdhMlF6WTJsQ1JqVXpkVUZyVURSTWJVdDROVVJEZFVSRUwzQTVjM05SUkhaSGVubElTVlE1UzJ4MVFXOVRVbTFqYkdkclJ6Rk5jakZQV0VwR0NraHpWMjFaVXpONE1tZHRhVE01WlROSWJFSmthbFZ4TUhwMVJqWlJlbWxPVGpoaVZHUm9jbkl3Y0hKRWFVNW5hekZRVG5SNE4xaFhhbEU0WlZCck1Xc0tiazFJVlV4dGRWUmFhQzlaWkdaWGVTOVZZMmN4TkUxaFZqWjJRa3hRY0dSSFpHRnNWMHRPTWxZMFVqVkZURXQwTnpac1lsRTFOMjF4UmtFMGRXMVViQXBzVEZSc01XVnpNazlhYjFkM1FrOTNOVXBoV1hoVlJXSkVjSFUxVW1aVVJqbEhZekU1U3pGTk5HaHVTakl3VlhsVFpUaDNTRTVtWVhwUVVtUXlLM1JZQ25sYVNESkpPVk5FTlRocGNWTTBNMnA2TUc5TFJXUnZSMGxuWVdjMlJWVnlTRFUwTUU5MGVtdFNSaTh3TUhZeWRWSmlWWGxIYmk5WlprSmFhM05OVG1JS1JURjNQUW90TFMwdExVVk9SQ0JEUlZKVVNVWkpRMEZVUlMwdExTMHRDZz09CkFQSV9TRVJWRVJfVVJMPWh0dHBzOi8vMDJENDg3Qjk0QzUzODNDQzYwM0E5NUNEMzlCODczMUEuZ3I3LmFwLXNvdXRoZWFzdC0yLmVrcy5hbWF6b25hd3MuY29tCi9ldGMvZWtzL2Jvb3RzdHJhcC5zaCBub2tpYS1sYWIyIC0tYjY0LWNsdXN0ZXItY2EgJEI2NF9DTFVTVEVSX0NBIC0tYXBpc2VydmVyLWVuZHBvaW50ICRBUElfU0VSVkVSX1VSTCAtLWNvbnRhaW5lci1ydW50aW1lIGRvY2tlcmQKCnRvdWNoIC9ldGMvLmZpcnN0Ym9vdF9kb25lCn0KCgoK",
            "vpc_security_group_ids": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eks_cluster.this",
            "aws_key_pair.cluster_key",
            "aws_kms_alias.cluster",
            "aws_security_group.cluster",
            "data.aws_ami.eks_worker",
            "data.aws_iam_role.eks",
            "data.aws_subnet_ids.private",
            "data.aws_subnet_ids.vpc",
            "data.template_file.aws_ssm_seelog",
            "data.template_file.workers_userdata"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-015ded33b68aa6bdb",
            "connectivity_type": "public",
            "id": "nat-051e6cd6626f99a6c",
            "network_interface_id": "eni-0172e14d8d5a172b5",
            "private_ip": "10.5.0.111",
            "public_ip": "13.237.215.84",
            "subnet_id": "subnet-0f7f1cc0405c394ea",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2a"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2a"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0718ef5fdcfe01f74",
            "connectivity_type": "public",
            "id": "nat-0158664754bbff415",
            "network_interface_id": "eni-04210e1758cdb9eb2",
            "private_ip": "10.5.2.79",
            "public_ip": "3.24.17.77",
            "subnet_id": "subnet-097a7e5714354866c",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2b"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2b"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0171e8808480017cf",
            "connectivity_type": "public",
            "id": "nat-05709987eef94cdc9",
            "network_interface_id": "eni-0a1b306f230bce9ca",
            "private_ip": "10.5.4.50",
            "public_ip": "3.104.97.34",
            "subnet_id": "subnet-0f68d36bdce9a84c5",
            "tags": {
              "Name": "nokia-lab2-ap-southeast-2c"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-ap-southeast-2c"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_network_acl",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:network-acl/acl-0a303c3ebad20fab4",
            "egress": [],
            "id": "acl-0a303c3ebad20fab4",
            "ingress": [],
            "owner_id": "126494010021",
            "subnet_ids": [
              "subnet-044fbf983d742268d",
              "subnet-097a7e5714354866c",
              "subnet-09b0e817a862c09e0",
              "subnet-0c8a88281586d5f59",
              "subnet-0f68d36bdce9a84c5",
              "subnet-0f7f1cc0405c394ea"
            ],
            "tags": {
              "Name": "nokia-lab2-public"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-public"
            },
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_network_acl_rule",
      "name": "public_inbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "cidr_block": "0.0.0.0/0",
            "egress": false,
            "from_port": 0,
            "icmp_code": null,
            "icmp_type": null,
            "id": "nacl-462968367",
            "ipv6_cidr_block": "",
            "network_acl_id": "acl-0a303c3ebad20fab4",
            "protocol": "all",
            "rule_action": "allow",
            "rule_number": 100,
            "to_port": 0
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_network_acl.public",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_network_acl_rule",
      "name": "public_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "cidr_block": "0.0.0.0/0",
            "egress": true,
            "from_port": 0,
            "icmp_code": null,
            "icmp_type": null,
            "id": "nacl-1896896162",
            "ipv6_cidr_block": "",
            "network_acl_id": "acl-0a303c3ebad20fab4",
            "protocol": "all",
            "rule_action": "allow",
            "rule_number": 100,
            "to_port": 0
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_network_acl.public",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0768f795efccff4901080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-051e6cd6626f99a6c",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0768f795efccff490",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_nat_gateway.this",
            "aws_route_table.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-026b091ed37a0dba21080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-0158664754bbff415",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-026b091ed37a0dba2",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_nat_gateway.this",
            "aws_route_table.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0121bf0bd8bfe11c91080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-05709987eef94cdc9",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0121bf0bd8bfe11c9",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_nat_gateway.this",
            "aws_route_table.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-035b4a3b4a7951435",
            "id": "r-rtb-065b5300c7e6859591080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-065b5300c7e685959",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null,
              "update": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.this",
            "aws_route_table.public",
            "aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:route-table/rtb-0768f795efccff490",
            "id": "rtb-0768f795efccff490",
            "owner_id": "126494010021",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "nokia-lab2-private-ap-southeast-2a-natgw"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-private-ap-southeast-2a-natgw"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:route-table/rtb-026b091ed37a0dba2",
            "id": "rtb-026b091ed37a0dba2",
            "owner_id": "126494010021",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "nokia-lab2-private-ap-southeast-2b-natgw"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-private-ap-southeast-2b-natgw"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:route-table/rtb-0121bf0bd8bfe11c9",
            "id": "rtb-0121bf0bd8bfe11c9",
            "owner_id": "126494010021",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "nokia-lab2-private-ap-southeast-2c-natgw"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-private-ap-southeast-2c-natgw"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:route-table/rtb-065b5300c7e685959",
            "id": "rtb-065b5300c7e685959",
            "owner_id": "126494010021",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Name": "nokia-lab2-public-rt"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-public-rt"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-094481db8da55cbae",
            "route_table_id": "rtb-0768f795efccff490",
            "subnet_id": "subnet-044fbf983d742268d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private",
            "aws_subnet.private",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-093d3bd684746e41f",
            "route_table_id": "rtb-026b091ed37a0dba2",
            "subnet_id": "subnet-0c8a88281586d5f59"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private",
            "aws_subnet.private",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-02d51d386c8f279c0",
            "route_table_id": "rtb-0121bf0bd8bfe11c9",
            "subnet_id": "subnet-09b0e817a862c09e0"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private",
            "aws_subnet.private",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-041a4a5abd6aae5dd",
            "route_table_id": "rtb-065b5300c7e685959",
            "subnet_id": "subnet-0f7f1cc0405c394ea"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-06ba3d5862a97dc82",
            "route_table_id": "rtb-065b5300c7e685959",
            "subnet_id": "subnet-097a7e5714354866c"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0630099f414b8da4d",
            "route_table_id": "rtb-065b5300c7e685959",
            "subnet_id": "subnet-0f68d36bdce9a84c5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:security-group/sg-0a02fb5edf125a05e",
            "description": "Main Cluster security group",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow cluster egress access to the Internet.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0a02fb5edf125a05e",
            "ingress": [
              {
                "cidr_blocks": [
                  "13.236.1.93/32",
                  "131.228.104.64/27"
                ],
                "description": "Allow internal communication with EKS backplane and CLUSTER_SECURITY_GROUP_RULES.IPSETS defined in vars.yaml.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              },
              {
                "cidr_blocks": [
                  "13.237.215.84/32"
                ],
                "description": "allow NAT Gateway EIP (13.237.215.84/32) on all ports",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              },
              {
                "cidr_blocks": [
                  "3.104.97.34/32"
                ],
                "description": "allow NAT Gateway EIP (3.104.97.34/32) on all ports",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              },
              {
                "cidr_blocks": [
                  "3.24.17.77/32"
                ],
                "description": "allow NAT Gateway EIP (3.24.17.77/32) on all ports",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              }
            ],
            "name": "nokia-lab2-cluster-sg-20221125061331145800000002",
            "name_prefix": "nokia-lab2-cluster-sg-",
            "owner_id": "126494010021",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "nokia-lab2-cluster-sg"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-cluster-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.this",
            "aws_nat_gateway.this",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-044fbf983d742268d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.5.1.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-044fbf983d742268d",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-private-ap-southeast-2a",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-private-ap-southeast-2a",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-0c8a88281586d5f59",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.5.3.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-0c8a88281586d5f59",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-private-ap-southeast-2b",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-private-ap-southeast-2b",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-09b0e817a862c09e0",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.5.5.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-09b0e817a862c09e0",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-private-ap-southeast-2c",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-private-ap-southeast-2c",
              "Network": "private",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-0f7f1cc0405c394ea",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2a",
            "availability_zone_id": "apse2-az1",
            "cidr_block": "10.5.0.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-0f7f1cc0405c394ea",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-public-ap-southeast-2a",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-public-ap-southeast-2a",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-097a7e5714354866c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2b",
            "availability_zone_id": "apse2-az3",
            "cidr_block": "10.5.2.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-097a7e5714354866c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-public-ap-southeast-2b",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-public-ap-southeast-2b",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:subnet/subnet-0f68d36bdce9a84c5",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-2c",
            "availability_zone_id": "apse2-az2",
            "cidr_block": "10.5.4.0/24",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-0f68d36bdce9a84c5",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-subnet-public-ap-southeast-2c",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-subnet-public-ap-southeast-2c",
              "Network": "public",
              "kubernetes.io/cluster/nokia-lab2": "shared"
            },
            "timeouts": null,
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:vpc/vpc-00092b296f9cd5d08",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.5.0.0/16",
            "default_network_acl_id": "acl-062ea61604c651227",
            "default_route_table_id": "rtb-09fdf2dc014233897",
            "default_security_group_id": "sg-07c5dbe337663258a",
            "dhcp_options_id": "dopt-031020e46fb020284",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-00092b296f9cd5d08",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-09fdf2dc014233897",
            "owner_id": "126494010021",
            "tags": {
              "Name": "nokia-lab2-vpc"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-vpc"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "gateway_endpoints",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-2:126494010021:vpc-endpoint/vpce-07a16492f3ef8969c",
            "auto_accept": null,
            "cidr_blocks": [
              "3.5.164.0/22",
              "3.5.168.0/23",
              "52.95.128.0/21"
            ],
            "dns_entry": [],
            "id": "vpce-07a16492f3ef8969c",
            "network_interface_ids": [],
            "owner_id": "126494010021",
            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\"}],\"Version\":\"2008-10-17\"}",
            "prefix_list_id": "pl-6ca54005",
            "private_dns_enabled": false,
            "requester_managed": false,
            "route_table_ids": [
              "rtb-0121bf0bd8bfe11c9",
              "rtb-026b091ed37a0dba2",
              "rtb-0768f795efccff490"
            ],
            "security_group_ids": [],
            "service_name": "com.amazonaws.ap-southeast-2.s3",
            "state": "available",
            "subnet_ids": [],
            "tags": {
              "Name": "nokia-lab2-vpce-s3"
            },
            "tags_all": {
              "ClusterRegion": "nokia-lab2-ap-southeast-2",
              "Component": "EKS cluster",
              "DeployerTool": "CsfpOps",
              "KubernetesCluster": "nokia-lab2",
              "Name": "nokia-lab2-vpce-s3"
            },
            "timeouts": null,
            "vpc_endpoint_type": "Gateway",
            "vpc_id": "vpc-00092b296f9cd5d08"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_route_table.private",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_10_seconds",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "create_duration": "10s",
            "destroy_duration": null,
            "id": "2022-11-25T06:11:37Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.this",
            "data.aws_availability_zones.azs"
          ],
          "create_before_destroy": true
        }
      ]
    }
  ]
}
